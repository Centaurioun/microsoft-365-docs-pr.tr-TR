---
title: Exploit Protection başvurusu
keywords: azaltmalar, güvenlik açıkları, güvenlik açığı, risk azaltma, açıklardan faydalanma, açıklardan faydalanmalar, gelişmiş risk azaltma deneyimi araç seti (emet)
description: Windows'da açıklardan faydalanmaya karşı koruma özelliğinin nasıl çalıştığıyla ilgili ayrıntılar
ms.pagetype: security
ms.service: microsoft-365-security
ms.mktglfcycl: manage
ms.sitesec: library
ms.localizationpriority: medium
audience: ITPro
author: denisebmsft
ms.author: deniseb
ms.reviewer: cjacks
manager: dansimp
ms.custom: asr
ms.subservice: mde
ms.topic: conceptual
ms.collection:
- m365-security
- tier3
ms.date: 10/19/2021
search.appverid: met150
ms.openlocfilehash: 938d3f626392a2d47d67a2b601684351960be821
ms.sourcegitcommit: 0d8fb571024f134d7480fe14cffc5e31a687d356
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/20/2022
ms.locfileid: "68632788"
---
# <a name="exploit-protection-reference"></a>Açıklardan Faydalanmaya Karşı Koruma Referansı

[!INCLUDE [Microsoft 365 Defender rebranding](../../includes/microsoft-defender.md)]


**Şunlar için geçerlidir:**
- [Uç Nokta için Microsoft Defender Planı 2](https://go.microsoft.com/fwlink/?linkid=2154037)
- [Microsoft 365 Defender](https://go.microsoft.com/fwlink/?linkid=2118804)

> Uç Nokta için Microsoft Defender'ı deneyimlemek ister misiniz? [Ücretsiz deneme için kaydolun.](https://signup.microsoft.com/create-account/signup?products=7f379fee-c4f9-4278-b0a1-e4c8c2fcdf7e&ru=https://aka.ms/MDEp2OpenTrial?ocid=docs-wdatp-enablesiem-abovefoldlink)

Açıklardan faydalanmaya karşı koruma, geliştirici yazılımı derleyip dağıttıktan sonra BT Uzmanının uygulayabileceği uygulamalar için gelişmiş korumalar sağlar.

Bu makale, açıklardan faydalanmaya karşı koruma ilkelerinibaşarıyla oluşturmanıza ve uygulamanıza yardımcı olmak için hem ilke düzeyinde hem de bireysel risk azaltma düzeyinde açıkardan faydalanmaya karşı korumanın nasıl çalıştığını anlamanıza yardımcı olur.

## <a name="how-mitigations-are-applied"></a>Risk azaltmaları nasıl uygulanır?

Açıklardan faydalanmaya karşı koruma risk azaltmaları uygulama başına uygulanır.

Risk azaltmalar, korumaları yapılandırdığınız her program için bir kayıt defteri girdisi aracılığıyla yapılandırılır. Bu ayarlar her program için **RiskAzaltmaSeçenekleri** kayıt defteri girdisinde depolanır (**HKEY_LOCAL_MACHINE \ SOFTWARE \ Microsoft \ Windows NT \ CurrentVersion \ Görüntü Dosyası Yürütme Seçenekleri \ *GörüntüDosyasıAdı* \ RiskAzaltmaSeçenekleri**). Programı yeniden başlattıktan sonra etkili olur ve siz bunları değiştirene ve programı yeniden başlatana kadar etkin kalırlar.

> [!IMPORTANT]
> Görüntü Dosyası Yürütme Seçenekleri yalnızca bir dosya adı veya yol belirtmenize olanak sağlar; sürüm numarası, mimari veya başka bir farklı ayarlayıcı belirtmez. Risk azaltıcı etkenleri benzersiz adlara veya yollara sahip uygulamalara hedeflemeye dikkat edin, bunları yalnızca uygulamanın belirli sürümünü ve mimarisini test ettiğiniz cihazlarda uygulayın.

PowerShell, grup ilkesi veya MDM aracılığıyla bir XML yapılandırma dosyası kullanarak açıklardan faydalanmaya karşı koruma risk azaltmalarını yapılandırırsanız, bu XML yapılandırma dosyası işlenirken, tek tek kayıt defteri ayarları sizin için yapılandırılır.

XML dosyasını dağıtan ilke artık zorunlu kılınmadığında, bu XML yapılandırma dosyası tarafından dağıtılan ayarlar otomatik olarak kaldırılmaz. Açıklardan faydalanmaya karşı korumayı kaldırmak için XML yapılandırmasını temiz bir Windows 10 veya Windows 11 cihazından dışarı aktarın ve bu yeni XML dosyasını dağıtın. Alternatif olarak, Microsoft, açıklardan faydalanmaya karşı koruma ayarlarını sıfırlamak için Windows Güvenliği Temelleri kapsamında bir XML dosyası sağlar.

PowerShell kullanarak açıklardan faydalanmaya karşı koruma ayarlarını sıfırlamak için aşağıdaki komutu kullanabilirsiniz:

```powershell
Set-ProcessMitigation -PolicyFilePath EP-reset.xml
```
Aşağıda, Windows Güvenliği Temelleriyle dağıtılan EP-reset.xml dosyası bulunmaktadır:
```xml
<?xml version="1.0" encoding="UTF-8"?>
<MitigationPolicy>
  <AppConfig Executable="ONEDRIVE.EXE">
    <DEP OverrideDEP="false" />
    <ASLR OverrideRelocateImages="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
    <ImageLoad OverrideBlockRemoteImages="false" />
  </AppConfig>
  <AppConfig Executable="firefox.exe">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
  </AppConfig>
  <AppConfig Executable="fltldr.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
    <ImageLoad OverrideBlockRemoteImages="false" />
    <ChildProcess OverrideChildProcess="false" />
  </AppConfig>
  <AppConfig Executable="GROOVE.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
    <ImageLoad OverrideBlockRemoteImages="false" />
    <ChildProcess OverrideChildProcess="false" />
  </AppConfig>
  <AppConfig Executable="Acrobat.exe">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="AcroRd32.exe">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="chrome.exe">
    <DEP OverrideDEP="false" />
  </AppConfig>
  <AppConfig Executable="EXCEL.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="iexplore.exe">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="INFOPATH.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="java.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="javaw.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="javaws.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="LYNC.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="MSACCESS.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="MSPUB.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="OIS.EXE">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="OUTLOOK.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="plugin-container.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="POWERPNT.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="PPTVIEW.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="VISIO.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="VPREVIEW.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="WINWORD.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="wmplayer.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="wordpad.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
</MitigationPolicy>
```

## <a name="mitigation-reference"></a>Risk Azaltma Referansı

Aşağıdaki bölümlerde, her bir açıklardan faydalanmaya karşı koruma risk azaltması tarafından sağlanan koruma, risk azaltımı için uyumluluk konuları ve kullanılabilir yapılandırma seçenekleri ayrıntılı olarak açıklanmaktadır.

## <a name="arbitrary-code-guard"></a>Rastgele kod koruyucusu

### <a name="description"></a>Açıklama

Rastgele kod koruyucusu, kötü niyetli bir saldırganın, bir bellek güvenlik açığı aracılığıyla, seçtiği kodu belleğe yüklemesine ve bu kodu çalıştırabilmesine karşı korunmaya yardımcı olur.

Rastgele kod koruyucusu, bir uygulamayı dinamik olarak oluşturulmuş bir kodu (örneğin, exe'nin kendisinden veya bir dll'den yüklenmeyen kod) yürütmekten korur. Rastgele kod koruyucusu, belleğin yürütülebilir olarak işaretlenmesini engelleyerek çalışır. Bir uygulama [bellek ayırmaya](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc) çalıştığında koruma bayraklarını kontrol ederiz. (Bellek; okuma, yazma ve/veya yürütme koruma bayraklarıyla ayrılabilir.) Ayırma işlemi, [*yürütme*](/windows/win32/memory/memory-protection-constants) koruma bayrağını dâhil etmeye çalışırsa, bellek ayırma başarısız olur ve bir hata kodu verir (STATUS_DYNAMIC_CODE_BLOCKED). Benzer şekilde, bir uygulama zaten ayrılmış olan ve [*yürütme*](/windows/win32/memory/memory-protection-constants) koruma bayrağını içeren belleğin [koruma bayraklarını değiştirmeye](/windows/win32/api/memoryapi/nf-memoryapi-virtualprotect) çalışırsa, izin değişikliği başarısız olur ve (STATUS_DYNAMIC_CODE_BLOCKED) hata kodunu döndürür.

*Yürütme* bayrağının ayarlanmasını önleyerek, Windows 10 ve Windows 11'in veri yürütme engelleme özelliği, yönerge işaretçisinin o belleğe ayarlanmasına ve bu kodu çalıştırmasına karşı koruma sağlayabilir.

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

Rastgele kod koruyucusu, herhangi bir belleğin yürütülebilir olarak ayrılmasını engeller ve bu, Tam Zamanında (JIT) derleyicileri gibi yaklaşımlarla uyumluluk sorunu ortaya çıkarır. Örneğin çoğu modern tarayıcı, performansı iyileştirmek için JavaScript'i yerel koda derler. Bu risk azaltmayı desteklemek için, JIT derlemesini korumalı işlem dışına taşımak için mimarisinin yeniden derlenmesi gerekir. Tasarımı betiklerden veya diğer ara dillerden dinamik olarak kod oluşturan diğer uygulamalar, bu risk azaltma ile benzer şekilde uyumsuz olur.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

**İş parçacığının ayrılmasına izin ver** - Risk azaltma özelliğini, tek bir iş parçacığının bu korumadan ayrılmasına izin verecek şekilde yapılandırabilirsiniz. Geliştiricinin bu azaltmanın farkında olarak uygulamayı yazmış ve bu iş parçacığında dinamik kod yürütmesine izin verilebilmesi için *ThreadInformation* parametresi **ThreadDynamicCodePolicy** olarak ayarlanmış olarak [**SetThreadInformation**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadinformation) API'sini çağırmış olması gerekir.

**Yalnızca denetim** - Bir uygulama üzerindeki olası uyumluluk etkisini ölçmek için bu risk azaltımını denetleme modunda etkinleştirebilirsiniz. Denetim olayları daha sonra olay görüntüleyicide veya [Uç Nokta için Defender](/microsoft-365/security/defender/advanced-hunting-overview)’da Gelişmiş Avcılık kullanılarak görüntülenebilir.

## <a name="block-low-integrity-images"></a>Bütünlük düzeyi düşük görüntüleri engelle

### <a name="description"></a>Açıklama

Düşük bütünlüklü görüntüleri engellemek, uygulamanın güvenilmeyen dosyaları yüklemesini, genellikle korumalı bir tarayıcıdan internetten indirilmesi nedeniyle önler.

Bu risk azaltma, görüntüde Düşük IL süreçlerine erişim sağlayan ve ACE güven etiketine sahip olmayan bir Erişim Denetim Girdisi (ACE) varsa görüntü yüklemelerini engeller. Dosyanın belleğe eşlenmesini engelleyen bellek yöneticisi tarafından uygulanır. Bir uygulama düşük bütünlüklü bir görüntüyü eşlemeye çalışırsa bu, bir STATUS_ACCESS_DENIED hatasını tetikler. Bütünlük düzeylerinin nasıl çalıştığının ayrıntıları için bkz. [Zorunlu Bütünlük Denetimi](/windows/win32/secauthz/mandatory-integrity-control).

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

Düşük bütünlüklü görüntüleri engellemek, uygulamanın internetten indirilen dosyaları yüklemesini önler. Uygulama iş akışınız, indirilen görüntülerin yüklenmesini gerektiriyorsa bu risk azaltmayı uygulamak için daha yüksek güvenli bir süreçten indirildiğinden veya açıkça yeniden etiketlendiğinden emin olmalısınız.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

**Yalnızca denetim** - Bir uygulama üzerindeki olası uyumluluk etkisini ölçmek için bu risk azaltımını denetleme modunda etkinleştirebilirsiniz. Denetim olayları daha sonra olay görüntüleyicide veya [Uç Nokta için Defender](/microsoft-365/security/defender/advanced-hunting-overview)’da Gelişmiş Avcılık kullanılarak görüntülenebilir.

## <a name="block-remote-images"></a>Uzak görüntüleri engelle

### <a name="description"></a>Açıklama

Uzak görüntülerin engellenmesi, uygulamanın UNC paylaşımı gibi uzak bir cihazda barındırılan dosyaları yüklemesini önlemeye yardımcı olur. Uzak görüntülerin engellenmesi, saldırgan tarafından kontrol edilen haricî bir cihazda yer alan ikili dosyaların belleğe yüklenmesine karşı korumaya yardımcı olur.

Bu risk azaltma, görüntünün uzak bir cihazda olduğu belirlenirse görüntü yüklemelerini engeller. Dosyanın belleğe eşlenmesini engelleyen bellek yöneticisi tarafından uygulanır. Bir uygulama uzak bir dosyayı eşlemeye çalışırsa bu, bir STATUS_ACCESS_DENIED hatasını tetikler.

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

Uzak görüntüleri engellemek, uygulamanın uzak cihazlardan görüntü yüklemesini önler. Uygulamanız uzak cihazlardan dosya veya eklenti yüklerse risk azaltma ile uyumlu olmayacaktır.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

**Yalnızca denetim** - Bir uygulama üzerindeki olası uyumluluk etkisini ölçmek için bu risk azaltımını denetleme modunda etkinleştirebilirsiniz. Denetim olayları daha sonra olay görüntüleyicide veya [Uç Nokta için Defender](/microsoft-365/security/defender/advanced-hunting-overview)’da Gelişmiş Avcılık kullanılarak görüntülenebilir.

## <a name="block-untrusted-fonts"></a>Güvenilmeyen yazı tiplerini engelle

### <a name="description"></a>Açıklama

Güvenilmeyen yazı tiplerini engellemek, saldırganın cihazda kod çalıştırabilmesine neden olan yazı tipi ayrıştırmada bir hata riskini azaltır. Yalnızca windows\fonts dizinine yüklenen yazı tipleri GDI tarafından işlenmek üzere yüklenecektir.

Bu risk azaltma GDI içinde uygulanarak dosyanın konumunu doğrular. Dosya sistem yazı tipleri dizininde yoksa, yazı tipi ayrıştırma için yüklenmez ve bu çağrı başarısız olur.

Bu risk azaltma, Windows 10 1607 ve sonraki sürümlerde sağlanan yerleşik risk azaltmaya ek olarak, yazı tipi ayrıştırmayı çekirdek dışına ve kullanıcı modu uygulama kapsayıcısı içine alan Windows 11'de de sağlanır. Sonuç olarak, yazı tipi ayrıştırmaya dayalı herhangi bir açıktan faydalanma; riski önemli ölçüde azaltan korumalı alan ve yalıtılmış bir bağlamda gerçekleşir. Bu risk azaltımıyla ilgili ayrıntılar için [Windows 10'u sıfır gün açıklarından faydalanma risk azaltmalarıyla sağlamlaştırma](https://www.microsoft.com/security/blog/2017/01/13/hardening-windows-10-with-zero-day-exploit-mitigations/) bloguna bakın.

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

Fontların sistem fontları dizini dışındaki en yaygın kullanımı [web fontlarıdır](/typography/fonts/font-faq#web). Microsoft Edge gibi modern tarayıcılar GDI yerine DirectWrite kullanır ve etkilenmez. Ancak, Internet Explorer 11 (ve yeni Microsoft Edge'deki IE modu) gibi eski tarayıcılar, özellikle kullanıcı arayüzünü görüntülemek için yazı tipi karakterlerini kullanan Office 365 gibi uygulamalardan etkilenebilir.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

**Yalnızca denetim** - Bir uygulama üzerindeki olası uyumluluk etkisini ölçmek için bu risk azaltımını denetleme modunda etkinleştirebilirsiniz. Denetim olayları daha sonra olay görüntüleyicide veya [Uç Nokta için Defender](/microsoft-365/security/defender/advanced-hunting-overview)’da Gelişmiş Avcılık kullanılarak görüntülenebilir.

## <a name="code-integrity-guard"></a>Kod bütünlüğü koruması

### <a name="description"></a>Açıklama

Kod bütünlüğü koruması, bir işleme yüklenen tüm ikili dosyaların Microsoft tarafından dijital olarak imzalanmasını sağlar. Kod bütünlüğü koruması, [WHQL](/windows-hardware/drivers/install/whql-release-signature) onaylı sürücülerin süreç içinde çalışmasına olanak tanıyan WHQL (Windows Donanım Kalitesi Laboratuvarları) imzalarını içerir.

Bu risk azaltma, ikili dosyanın belleğe eşlenmesini engelleyen bellek yöneticisi içinde uygulanır. Microsoft tarafından imzalanmamış bir ikili dosyayı yüklemeye çalışırsanız, bellek yöneticisi STATUS_INVALID_IMAGE_HASH hatasını döndürür. Bellek yöneticisi düzeyinde engelleme, hem işlem tarafından yüklenen ikili dosyaları hem de işleme eklenen ikili dosyaları önler.

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

Bu risk azaltma özellikle Microsoft tarafından imzalanmamış tüm ikili dosyaları engeller. Bu nedenle, bu yazılım Microsoft Store tarafından dağıtılmadığı (ve dijital olarak imzalanmadığı) ve Microsoft Store tarafından imzalanmış görüntülerin yüklenmesine izin verme seçeneği belirlenmediği sürece çoğu üçüncü taraf yazılımıyla uyumlu olmayacaktır.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

**Microsoft Store tarafından imzalanmış görüntülerin yüklenmesine de izin ver** - Microsoft Store tarafından dağıtılan uygulamalar Microsoft Store tarafından dijital olarak imzalanır ve bu yapılandırmanın eklenmesi, mağaza sertifika sürecinden geçen ikili dosyaların uygulama tarafından yüklenmesine izin verecektir.

**Yalnızca denetim** - Bir uygulama üzerindeki olası uyumluluk etkisini ölçmek için bu risk azaltımını denetleme modunda etkinleştirebilirsiniz. Denetim olayları daha sonra olay görüntüleyicide veya [Uç Nokta için Defender](/microsoft-365/security/defender/advanced-hunting-overview)’da Gelişmiş Avcılık kullanılarak görüntülenebilir.

## <a name="control-flow-guard-cfg"></a>Denetim akış koruması (CFG)

### <a name="description"></a>Açıklama

Denetim akış koruyucusu (CFG), dolaylı işlev çağrılarını koruyarak saldırganların bellek bozulması güvenlik açıklarını kullanma riskini azaltır. Örneğin, bir saldırgan, bir işlev işaretçisi içeren belleğin üzerine yazmak için bir arabellek taşması güvenlik açığı kullanabilir ve bu işlev işaretçisini, kendi seçtikleri yürütülebilir kodun bir işaretçisiyle (programa enjekte edilmiş olabilir) değiştirebilir.

Bu risk azaltma, derleme zamanında başka bir denetim ekleyerek sağlanır. Her dolaylı işlev çağrısından önce, çağrılmadan önce hedefin geçerli bir çağrı hedefi olduğunu doğrulayan başka talimatlar eklenir. Hedef geçerli bir çağrı hedefi değilse uygulama sonlandırılır. Bu nedenle, bu risk azaltmadan yalnızca CFG desteğiyle derlenen uygulamalar yararlanabilir.

Geçerli bir hedefin kontrolü Windows çekirdeği tarafından sağlanır. Yürütülebilir dosyalar yüklendiğinde, dolaylı arama hedeflerine ilişkin meta veriler, yükleme zamanında ayıklanır ve geçerli çağrı hedefleri olarak işaretlenir. Ayrıca, bellek ayrıldığında ve yürütülebilir olarak işaretlendiğinde (örneğin, oluşturulan kod için), bu bellek konumları da JIT derlemesi gibi mekanizmaları desteklemek için geçerli çağrı hedefleri olarak işaretlenir.

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

Uygulamaların CFG'yi desteklemesi için derlenmesi gerektiğinden, uyumluluklarını dolaylı olarak beyan ederler. Bu nedenle çoğu uygulama, bu risk azaltımı etkinleştirilmiş olarak çalışmalıdır. Bu denetimler ikili dosyada derlenmiş olduğundan, uygulayabileceğiniz yapılandırma yalnızca Windows çekirdeği içindeki denetimleri devre dışı bırakmak içindir. Başka bir deyişle, azaltma varsayılan olarak açıktır, ancak daha sonra uygulama geliştiricisinin testlerinde keşfetmediği bir uyumluluk sorunu olduğunu belirlerseniz Windows çekirdeğini her zaman "evet" döndürecek şekilde yapılandırabilirsiniz. Bu durum nadirdir.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

**Katı CFG kullan** - Katı modda, işleme yüklenen tüm ikili dosyaların yüklenebilmesi için, Denetim Akışı Koruyucusu için derlenmeleri (veya içlerinde yürütülebilir kod bulunmaması - kaynak dll'leri gibi) gerekir.

> [!Note]
> **Denetim akışı koruyucusu** denetim moduna sahip değil. İkili dosyalar bu risk azaltma etkin olarak derlenir.

## <a name="data-execution-prevention-dep"></a>Veri Yürütme Engellemesi (DEP)

### <a name="description"></a>Açıklama

Veri yürütme engellemesi (DEP), açıkça yürütülebilir olarak ayrılmış olmayan belleğin yürütülmesini önler. DEP, arabellek taşması gibi yollarla işleme kötü amaçlı kod ekleyip ardından bu kodu yürüten bir saldırgana karşı koruma sağlar.

Yönerge işaretçisini yürütülebilir olarak işaretlenmemiş bir bellek adresine ayarlamaya çalışırsanız, işlemci bir istisna (genel koruma ihlali) oluşturarak uygulamanın çökmesine neden olur.

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

Tüm x64, ARM ve ARM-64 yürütülebilir dosyalarında DEP varsayılan olarak etkindir ve devre dışı bırakılamaz. Bir uygulama DEP olmadan hiçbir zaman yürütülmeyecek olduğundan uyumluluk varsayılır.

Tüm x86 (32 bit) ikili dosyalarında DEP varsayılan olarak etkindir, ancak işlem başına DEP devre dışı bırakılabilir. Genellikle Windows XP SP2'den önce geliştirilen bazı eski uygulamalar DEP ile uyumlu olmayabilir. Bu tür uygulamalar genellikle dinamik olarak kod oluşturur (örneğin, JIT derlemesi) veya dinamik olarak kod oluşturan eski kitaplıklara (ATL'nin eski sürümleri gibi) bağlantı sağlar.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

**ATL Thunk öykünmesini etkinleştir** - Bu yapılandırma seçeneği, ATL Thunk öykünmesini devre dışı bırakır. ActiveX Şablon Kitaplığı ATL, mümkün olduğunca küçük ve hızlı olacak şekilde tasarlanmıştır. İkili boyutu azaltmak için *dönüştürme* adı verilen bir teknik kullanır. Dönüştürme, genellikle 32-bit ve 16-bit uygulamalar arasında etkileşim için düşünülür, ancak burada ATL için 16-bitlik bileşen yoktur. Bunun yerine, ikili boyutu iyileştirmek için ATL, makine kodunu sözcük hizalı olmayan (daha küçük bir ikili dosya oluşturarak) bellekte depolar ve ardından bu kodu doğrudan çağırır. Visual Studio 7.1 veya önceki bir sürümle (Visual Studio 2003) derlenen ATL bileşenleri bu belleği yürütülebilir dosya olarak ayırmaz; dönüştürme öykünmesi bu uyumluluk sorunlarını giderir. İkili uzantı modeline (Internet Explorer 11 gibi) sahip uygulamalarda genellikle ATL dönüştürme öykünmesinin etkinleştirilmesi gerekir.

## <a name="disable-extension-points"></a>Uzantı noktalarını devre dışı bırak

### <a name="description"></a>Açıklama

Bu risk azaltma, bir uygulama için kalıcılık oluşturmak veya kötü amaçlı içeriğin ayrıcalıklarını yükseltmek için kullanılabilecek çeşitli uzantı noktalarını devre dışı bırakır.

Bu, şunları kapsar:

- **AppInit DLL'leri** - Bir işlem her başlatıldığında, sistem belirtilen DLL'yi giriş noktası işlevini çağırmadan önce yeni başlatılan işlem bağlamına yükler. [ AppInit DLL'leri ile ilgili ayrıntıları burada bulabilirsiniz](/windows/win32/winmsg/about-window-classes#application-global-classes). Bu risk azaltma uygulandığında AppInit DLL'leri yüklenmez. Windows 7'den itibaren, AppInit DLL'lerinin [burada açıklandığı gibi](/windows/win32/win7appqual/appinit-dlls-in-windows-7-and-windows-server-2008-r2) dijital olarak imzalanması gerekir. Buna ek olarak, Windows 8'den itibaren SecureBoot etkinse AppInit DLL'leri yüklenmez, [burada açıklanmıştır](/windows/win32/dlls/secure-boot-and-appinit-dlls).
- **Eski IME'ler** - Bir Giriş Yöntemi Düzenleyicisi (IME), kullanıcının klavyede temsil edilebilecek karakterden daha fazla karaktere sahip bir dilde metin yazmasına olanak tanır. Üçüncü taraflar IME'ler oluşturabilir. Kötü amaçlı bir IME, bu girdi yakalama işleminden kimlik bilgilerini veya diğer hassas bilgileri alabilir. Eski IME'ler olarak adlandırılan bazı IME'ler, yalnızca Windows Masaüstü uygulamalarında çalışır, UWP uygulamalarında çalışmaz. Bu risk azaltma, bu eski IME'nin belirtilen Windows Masaüstü uygulamasına yüklenmesine de engel olur.
- **Windows Olay Kancaları** - Bir uygulama, gerçekleşen bir olaya olan ilgiyi kaydetmek için [SetWinEventHook API](/windows/win32/api/winuser/nf-winuser-setwineventhook)'sini çağırabilir. Bir DLL belirtildi ve işleme eklenebilir. Bu azaltma, kancayı, eklenen bir DLL aracılığıyla işlem içi çalıştırmak yerine kayıt işlemine nakledilmeye zorlar.

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

Bu uzantı noktalarının çoğu görece seyrek kullanıldığından uyumluluk etkisi genellikle küçüktür ve özellikle de tek bir uygulama düzeyindedir. Burada dikkat edilmesi gereken nokta, kullanıcıların korumalı uygulamayla çalışmayan üçüncü taraf eski IME'leri kullanıp kullanmadığıdır.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

Bu risk azaltımı için yapılandırma seçeneği yok.

> [!Note]
> **Uzantı noktalarını devre dışı bırakma** nın denetim modu yok.

## <a name="disable-win32k-system-calls"></a>Win32k sistem çağrılarını devre dışı bırak

### <a name="description"></a>Açıklama

Win32k.sys, bir saldırgan için geniş bir saldırı yüzeyi sağlar. Çekirdek modu bileşeni olarak, korumalı alanlı uygulamalar için genellikle kaçış vektörü olarak hedeflenir. Bu azaltma, bir iş parçacığının kendisini bir GUI iş parçacığına dönüştürmesini engelleyerek win32k.sys'e yapılan çağrıları önler ve bu işleme daha sonra Win32k işlevlerini çağırmak için erişim verilir. Bir iş parçacığı, oluşturulduğunda GUI değildir, ancak ilk çağrıda win32k.sys'ye veya bir API çağrısı yoluyla [IsGuiThread](/windows/win32/api/winuser/nf-winuser-isguithread)'e dönüştürülür.

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

Bu risk azaltma, kullanıcı arabirimi olmayan ayrılmış işlemler için tasarlanmış. Örneğin, birçok modern tarayıcı işlem yalıtımı kullanır ve kullanıcı arabirimi olmayan işlemleri içerir. Tek bir işlem kullanarak grefiksel kullanıcı arayüzü görüntüleyen tüm uygulamalar bu risk azaltmadan etkilenir.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

**Yalnızca denetim** - Bir uygulama üzerindeki olası uyumluluk etkisini ölçmek için bu risk azaltımını denetleme modunda etkinleştirebilirsiniz. Denetim olayları daha sonra olay görüntüleyicide veya [Uç Nokta için Defender](/microsoft-365/security/defender/advanced-hunting-overview)’da Gelişmiş Avcılık kullanılarak görüntülenebilir.

## <a name="do-not-allow-child-processes"></a>Alt işlemlere izin verme

### <a name="description"></a>Açıklama

Bu risk azaltma, bir uygulamanın yeni alt uygulamalar oluşturmasını önler. Saldırganlar tarafından yaygın olarak kullanılan bir teknik, cihazda genellikle başka bir uygulamanın başlatılmasını gerektiren kötü amaçlı girdilerle ("karadan yaşam" saldırısı) güvenilir bir işlem başlatmaktır. Bir uygulamanın bir alt işlemi başlatması için geçerli bir neden yoksa, bu risk azaltma bu olası saldırı vektörünü azaltır. Azaltma, süreç belirtecinde, STATUS_CHILD_PROCESS_BLOCKED hata mesajıyla alt süreç için bir belirteç oluşturmayı engelleyen bir özellik ayarlanarak uygulanır.

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

Uygulamanız, bir tarayıcı veya haricî bir tarayıcı başlatan veya bilgisayarda başka yardımcı programları başlatan köprüleri destekleme gibi herhangi bir nedenle alt uygulamaları başlatıyorsa, bu azaltma uygulandığında bu işlevsellik bozulur.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

**Yalnızca denetim** - Bir uygulama üzerindeki olası uyumluluk etkisini ölçmek için bu risk azaltımını denetleme modunda etkinleştirebilirsiniz. Denetim olayları daha sonra olay görüntüleyicide veya [Uç Nokta için Defender](/microsoft-365/security/defender/advanced-hunting-overview)’da Gelişmiş Avcılık kullanılarak görüntülenebilir.

## <a name="export-address-filtering"></a>Dışarı aktarma adresi filtrelemesi

### <a name="description"></a>Açıklama

Dışarı aktarma adresi filtrelemesi (EAF), saldırılarına yönelik yararlı API'ler içeren modülleri bulmak için yüklenen tüm modüllerin dışarı aktarma adresi tablosuna bakarak kötü amaçlı kod riskini azaltır. Bu, kabuk kodu tarafından kullanılan yaygın bir taktiktir. Bu risk azaltma, böyle bir saldırı riskini azaltmak için yaygın olarak saldırıya uğrayan üç modülü korur:

- ntdll.dll
- kernelbase.dll
- kernel32.dll

Risk azaltma, [dışarı aktarma adres tablosuna](/windows/win32/debug/pe-format#export-address-table) işaret eden dışa aktarma dizinindeki bellek sayfasını korur. Bu bellek sayfasına [PAGE_GUARD](/windows/win32/memory/creating-guard-pages) koruması uygulanır. Birisi bu belleğe erişmeye çalıştığında bir STATUS_GUARD_PAGE_VIOLATION üretecektir. Risk azaltma bu özel durumu ele alır ve erişim yönergesi, doğrulamayı geçemezse işlem sonlandırılır.

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

Bu risk azaltma, öncelikle hata ayıklayıcılar, korumalı uygulamalar, DRM kullanan uygulamalar veya hata ayıklama önleme teknolojisi uygulayan uygulamalar gibi uygulamalar için bir sorundur.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

**Açıklardan faydalanma tarafından yaygın olarak kötüye kullanılan modüller için erişimi doğrulayın** - EAF+ olarak da bilinen bu seçenek, yaygın olarak saldırıya uğrayan diğer modüller için koruma ilave eder:

- `mshtml.dll`
- `flash*.ocx`
- `jscript*.ocx`
- `vbscript.dll`
- `vgx.dll`
- `mozjs.dll`
- `xul.dll`
- `acrord32.dll`
- `acrofx32.dll`
- `acroform.api`

Ek olarak, EAF+'ı etkinleştirerek, bu risk azaltma, kabuk kodunun tanımlamak için arayabileceği bilinen bellek içeriğinin başka bir yönü olan [bir PE dosyasındaki DOS başlığının](/windows/win32/debug/pe-format#ms-dos-stub-image-only) ilk iki baytı olan "MZ" başlığını içeren sayfaya PAGE_GUARD korumasını ekler.

**Yalnızca denetim** - Bir uygulama üzerindeki olası uyumluluk etkisini ölçmek için bu risk azaltımını denetleme modunda etkinleştirebilirsiniz. Denetim olayları daha sonra olay görüntüleyicide veya [Uç Nokta için Defender](/microsoft-365/security/defender/advanced-hunting-overview)’da Gelişmiş Avcılık kullanılarak görüntülenebilir.

## <a name="force-randomization-for-images-mandatory-aslr"></a>Görüntüleri rastgele seçmeye zorla (Zorunlu ASLR)

### <a name="description"></a>Açıklama

Rastgele Adres Alanı Düzeni (ASLR), bir saldırganın, işlem belleğinde zaten mevcut olan ve zaten yürütülebilir olarak işaretlenmiş kodu yürütmek için sistemin bellek düzeni hakkındaki bilgisini kullanarak riski azaltır. Bu, saldırganın bağlamı belirlediği ve ardından geri dönüş adresini, saldırganın amacına uygun bağlamla mevcut kodu yürütmek için değiştirdiği, libc'ye dönüş saldırıları gibi teknikleri kullanan bir saldırganın riskini azaltabilir.

Zorunlu ASLR, işlemdeki tüm DLL'lerin yeniden temellendirilmesini zorlar. Bir geliştirici [/DYNAMICBASE](/cpp/build/reference/dynamicbase-use-address-space-layout-randomization) bağlayıcı seçeneğini kullanarak ASLR'yi etkinleştirebilir ve bu risk azaltma aynı etkiye sahip olur.

Bellek yöneticisi görüntüde işlemle eşlenirken Zorunlu ASLR, ASLR'ye katılmamış DLL'leri ve EXE'leri zorla yeniden temellendirir. Ancak, bu yeniden temellendirmenin entropisi olmadığını ve bu nedenle bellekte tahmin edilebilir bir yere yerleştirilebileceğini unutmayın. İkili dosyaların yeniden tabanlı ve rastgele konumu için bu azaltma, [Bellek ayırmalarını rastgele seç (Aşağıdan yukarı ASLR)](#randomize-memory-allocations-bottom-up-aslr) ile eşleştirilmelidir.

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

ASLR'nin bu uyumluluk etkisi, tipik olarak, bir ikili dosyanın temel adresi hakkında varsayımlarda bulunan veya temel yer değiştirme bilgilerini çıkaran derleyiciler kullanılarak oluşturulmuş eski uygulamalarla sınırlıdır. Bu, yürütme akışı bellekte gerçek konum yerine beklenen konuma atlamaya çalıştığı için öngörülemeyen hatalara neden olabilir.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

**Kırpılmış görüntülere izin verme** - Bu seçenek, yer değiştirme bilgileri çıkarılmış görüntülerin yüklenmesini engeller. Windows PE dosya biçimi mutlak adresleri içerir ve derleyici ayrıca yükleyicinin tüm göreli bellek referanslarını ve bunların uzaklıklarını bulmak için kullanabileceği bir temel yer değiştirme tablosu oluşturur; böylece ikili dosya tercih edilen temel adreste yüklenmezse bunlar güncellenebilir. Bazı eski uygulamalar, üretim derlemelerinde bu bilgileri çıkarır ve bu nedenle bu ikili dosyalar yeniden temellendirilemez. Bu risk azaltma, bu tür ikili dosyaların yüklenmesini engeller (tercih edilen temel adreslerinde yüklemelerine izin vermek yerine).

> [!Note]
> **Görüntüler için rastgeleleştirmeyi zorla (Zorunlu ASLR)** denetim moduna sahip değil.

## <a name="import-address-filtering-iaf"></a>İçeri aktarma adresi filtrelemesi (IAF)

### <a name="description"></a>Açıklama

İçe aktarma adresi filtreleme (IAF) azaltması, içe aktarma adres tablosunu (IAT) bu işlev çağrıldığında saldırganın seçtiği rastgele koda yeniden yönlendirmek üzere değiştirerek bir saldırganın bir uygulamanın kontrol akışını değiştirme riskini azaltmaya yardımcı olur. Saldırgan, denetimi ele geçirmek veya hassas API'lere yapılan çağrıları kesmek, denetlemek ve potansiyel olarak engellemek için bu yaklaşımı kullanabilir.

Tüm korunan API'lerin bellek sayfalarında kendilerine uygulanan [PAGE_GUARD](/windows/win32/memory/creating-guard-pages) koruması olacaktır. Birisi bu belleğe erişmeye çalıştığında bir STATUS_GUARD_PAGE_VIOLATION üretecektir. Risk azaltma bu özel durumu ele alır ve erişim yönergesi, doğrulamayı geçemezse işlem sonlandırılır.

Bu risk azaltma, aşağıdaki Windows API'lerini korur:

- `GetProcAddress`
- `GetProcAddressForCaller`
- `LoadLibraryA`
- `LoadLibraryExA`
- `LoadLibraryW`
- `LoadLibraryExW`
- `LdrGetProcedureAddress`
- `LdrGetProcedureAddressEx`
- `LdrGetProcedureAddressForCaller`
- `LdrLoadDll`
- `VirtualProtect`
- `VirtualProtectEx`
- `VirtualAlloc`
- `VirtualAllocEx`
- `NtAllocateVirtualMemory`
- `NtProtectVirtualMemory`
- `CreateProcessA`
- `CreateProcessW`
- `WinExec`
- `CreateProcessAsUserA`
- `CreateProcessAsUserW`
- `GetModuleHandleA`
- `GetModuleHandleW`
- `RtlDecodePointer`
- `DecodePointer`

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

API kesmesi gerçekleştiren meşru uygulamalar bu risk azaltma tarafından algılanabilir ve bazı uygulamaların çökmesine neden olabilir. Güvenlik yazılımları ve uygulama uyumluluğu dolguları birer örnektir.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

**Yalnızca denetim** - Bir uygulama üzerindeki olası uyumluluk etkisini ölçmek için bu risk azaltımını denetleme modunda etkinleştirebilirsiniz. Denetim olayları daha sonra olay görüntüleyicide veya [Uç Nokta için Defender](/microsoft-365/security/defender/advanced-hunting-overview)’da Gelişmiş Avcılık kullanılarak görüntülenebilir.

## <a name="randomize-memory-allocations-bottom-up-aslr"></a>Bellek ayırmalarını rastgele seç (Aşağıdan yukarı ASLR)

### <a name="description"></a>Açıklama

Bellek ayırmalarını rastgele seç (Aşağıdan yukarı ASLR), konumlarının rastgele ve bu nedenle daha az tahmin edilebilir hale getirmesi için yeniden konumlandırmalara entropi ekler. Bu risk azaltma, zorunlu ASLR'nin etkili olmasını gerektirir.

32 bitlik adres alanının boyutu, eklenebilecek entropiye pratik kısıtlamalar getirir ve bu nedenle 64 bit uygulamalar, bir saldırganın bellekteki bir konumu tahmin etmesini zorlaştırır.

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

Zorunlu ASLR (yeniden temellendirme) ile uyumlu olan çoğu uygulama, Aşağıdan yukarı ASLR'nin diğer entropisiyle de uyumludur. Bazı uygulamalar, yerel işaretçileri 32-bit değişkenlerde kaydediyorlarsa (4 GB'nin altında bir temel adres bekliyorlarsa) işaretçi kesme sorunları olabilir ve bu nedenle yüksek entropi seçeneğiyle (devre dışı bırakılabilir) uyumsuz olacaktır.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

**Yüksek entropi kullanma** - bu seçenek, 64 bit uygulamalar için aşağıdan yukarı ayırmaya 24 bit entropi (1 TB varyans) ekleyen yüksek entropi ASLR kullanımını devre dışı bırakır.

> [!Note]
> **Bellek ayırmalarını rastgele seç (Aşağıdan yukarı ASLR)** denetim moduna sahip değil.

## <a name="simulate-execution-simexec"></a>Yürütme simülasyonu (SimExec)

### <a name="description"></a>Açıklama

Yürütme simülasyonu (SimExec), yalnızca 32 bit uygulamalar için bir azaltmadır. Bu, hassas API'lere yapılan çağrıların meşru çağırıcı işlevlerine döneceğini doğrulamaya yardımcı olur. Bunu, hassas API'lere yapılan çağrıları durdurarak ve ardından çağırana geri dönmesi gereken RET talimatını arayan kodlanmış montaj dili talimatlarında dolaşarak bu API'lerin yürütülmesini simüle ederek yapar. Ardından bu işlevi inceler ve işlev ile CALL komutunun eşleşip eşleşmediğini ve RET'nin kesilip kesilmediğini belirlemek için önceki CALL komutunu bulmak üzere bellekte geriye doğru ilerler.

Bu azaltma tarafından kesilen API'ler:

- `LoadLibraryA`
- `LoadLibraryW`
- `LoadLibraryExA`
- `LoadLibraryExW`
- `LdrLoadDll`
- `VirtualAlloc`
- `VirtualAllocEx`
- `NtAllocateVirtualMemory`
- `VirtualProtect`
- `VirtualProtectEx`
- `NtProtectVirtualMemory`
- `HeapCreate`
- `RtlCreateHeap`
- `CreateProcessA`
- `CreateProcessW`
- `CreateProcessInternalA`
- `CreateProcessInternalW`
- `NtCreateUserProcess`
- `NtCreateProcess`
- `NtCreateProcessEx`
- `CreateRemoteThread`
- `CreateRemoteThreadEx`
- `NtCreateThreadEx`
- `WriteProcessMemory`
- `NtWriteVirtualMemory`
- `WinExec`
- `CreateFileMappingA`
- `CreateFileMappingW`
- `CreateFileMappingNumaW`
- `NtCreateSection`
- `MapViewOfFile`
- `MapViewOfFileEx`
- `MapViewOfFileFromApp`
- `LdrGetProcedureAddressForCaller`

Bir ROP aracı algılanırsa işlem sonlandırılır.

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

API müdahalesi gerçekleştiren uygulamalar, özellikle güvenlik yazılımları, bu risk azaltma ile uyumluluk sorunlarına neden olabilir.

Bu risk azaltma, Rastgele Kod Koruması risk azaltması ile uyumlu değildir.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

**Yalnızca denetim** - Bir uygulama üzerindeki olası uyumluluk etkisini ölçmek için bu risk azaltımını denetleme modunda etkinleştirebilirsiniz. Denetim olayları daha sonra olay görüntüleyicide veya [Uç Nokta için Defender](/microsoft-365/security/defender/advanced-hunting-overview)’da Gelişmiş Avcılık kullanılarak görüntülenebilir.

## <a name="validate-api-invocation-callercheck"></a>API çağrısını doğrula (CallerCheck)

### <a name="description"></a>Açıklama

API çağrısını doğrulama (CallerCheck), hassas API'lerin geçerli bir arayandan çağrıldığını doğrulayan geri dönüş odaklı programlama (ROP) tekniklerine yönelik bir azaltmadır. Bu azaltma, iletilen dönüş adresini inceler ve ardından çağrı hedefinin işleve iletilen parametreyle eşleşip eşleşmediğini belirlemek için dönüş adresinin üzerinde bir çağrı bulmak üzere buluşsal olarak geriye doğru ayrıştırır.

Bu azaltma tarafından kesilen API'ler:

- `LoadLibraryA`
- `LoadLibraryW`
- `LoadLibraryExA`
- `LoadLibraryExW`
- `LdrLoadDll`
- `VirtualAlloc`
- `VirtualAllocEx`
- `NtAllocateVirtualMemory`
- `VirtualProtect`
- `VirtualProtectEx`
- `NtProtectVirtualMemory`
- `HeapCreate`
- `RtlCreateHeap`
- `CreateProcessA`
- `CreateProcessW`
- `CreateProcessInternalA`
- `CreateProcessInternalW`
- `NtCreateUserProcess`
- `NtCreateProcess`
- `NtCreateProcessEx`
- `CreateRemoteThread`
- `CreateRemoteThreadEx`
- `NtCreateThreadEx`
- `WriteProcessMemory`
- `NtWriteVirtualMemory`
- `WinExec`
- `CreateFileMappingA`
- `CreateFileMappingW`
- `CreateFileMappingNumaW`
- `NtCreateSection`
- `MapViewOfFile`
- `MapViewOfFileEx`
- `MapViewOfFileFromApp`
- `LdrGetProcedureAddressForCaller`

Bir ROP aracı algılanırsa işlem sonlandırılır.

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

API müdahalesi gerçekleştiren uygulamalar, özellikle güvenlik yazılımları, bu risk azaltma ile uyumluluk sorunlarına neden olabilir.

Bu risk azaltma, Rastgele Kod Koruması risk azaltması ile uyumlu değildir.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

**Yalnızca denetim** - Bir uygulama üzerindeki olası uyumluluk etkisini ölçmek için bu risk azaltımını denetleme modunda etkinleştirebilirsiniz. Denetim olayları daha sonra olay görüntüleyicide veya [Uç Nokta için Defender](/microsoft-365/security/defender/advanced-hunting-overview)’da Gelişmiş Avcılık kullanılarak görüntülenebilir.

## <a name="validate-exception-chains-sehop"></a>Özel durum zincirlerini doğrula (SEHOP)

### <a name="description"></a>Açıklama

Özel durum zincirlerini doğrulama (SEHOP), *Yapılandırılmış Özel Durum İşleyicisi (SEH) üzerine yazma* açığından faydalanma tekniğine karşı bir risk azaltımıdır. [Yapılandırılmış istisna işleme](/windows/win32/debug/structured-exception-handling), bir uygulamanın belirli bir özel durumu işlemeyi isteyebileceği işlemdir. Özel durum işleyicileri birbirine zincirlenir, böylece bir özel durum işleyicisi belirli bir özel durumu işlememeyi seçerse, biri onu işlemeye karar verene kadar zincirdeki bir sonraki özel durum işleyicisine iletilebilir. İşleyici listesi dinamik olduğundan yığında depolanır. Saldırgan, daha sonra özel durum işleyicisinin üzerine saldırganın seçtiği kodun bir işaretçisiyle yazmak için bir yığın taşması güvenlik açığı kullanabilir.

Bu risk azaltma, her SEH girişinin hem özel durum işleyicisini gösteren bir işaretçi hem de istisna zincirindeki bir sonraki işleyiciyi gösteren bir işaretçi içerdiği SEH tasarımına dayanır. Bu risk azaltma, bir özel durum çağrıldığında SEH zincirini doğrulayan özel durum dağıtıcısı tarafından çağrılır. Aşağıdakileri doğrular:

- Tüm özel durum zinciri kayıtları yığın sınırları içindedir
- Tüm özel durum kayıtları hizalanır
- Yığına işaret eden bir özel durum işleyici işaretçisi yok
- Geriye dönük işaretçi yok
- Özel durum zinciri bilinen bir son özel durum işleyicisinde sona eriyor

Bu doğrulamalar başarısız olursa, özel durum işleme iptal edilir ve özel durum işlenmez.

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

SEHOP ile ilgili uyumluluk sorunları nispeten nadirdir. Bir uygulamanın özel durum zincirini bozmaya bağımlı olması yaygın değildir. Ancak bazı uygulamalar zamanlamadaki küçük değişikliklerden etkilenir ve bu durum, uygulamada gizli bir çoklu iş parçacığı hatasını ortaya çıkaran bir yarış durumu olarak ortaya çıkar.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

> [!Note]
> **Özel durum zincirlerini doğrula (SEHOP)** denetim moduna sahip değil.

## <a name="validate-handle-usage"></a>Tutamaç kullanımını doğrula

### <a name="description"></a>Açıklama

*Tanıtıcı kullanımını doğrula* korunan bir nesneye erişmek için mevcut bir tanıtıcıyı kullanan bir saldırgana karşı korunmaya yardımcı olan bir risk azaltımıdır. Bir [tanıtıcı](/windows/win32/sysinfo/handles-and-objects) korumalı bir nesneye referanstır. Uygulama kodu geçersiz bir tanıtıcıya başvuruyorsa, bu, bir saldırganın daha önce kaydedilmiş bir tanıtıcıyı kullanmaya çalıştığını gösterebilir (ancak hangi uygulama referans sayımının farkında olmaz). Uygulama, yalnızca null döndürme yerine geçersiz bir nesne kullanmaya çalışırsa, uygulama bir özel durum (STATUS_INVALID_HANDLE) oluşturur.

Bu risk azaltma, Windows Mağazası uygulamalarına otomatik olarak uygulanır.

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

İşleme referanslarını doğru şekilde izlemeyen ve bu işlemleri özel durum işleyicilere sarmayan uygulamalar bu azaltmadan potansiyel olarak etkilenecektir.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

> [!Note]
> **Tanıtıcı kullanımını doğrula** denetim moduna sahip değil.

## <a name="validate-heap-integrity"></a>Yığın bütünlüğünü doğrula

### <a name="description"></a>Açıklama

*Yığın bütünlüğünü doğrulama* risk azaltımı, bir yığın bozulması algılanırsa uygulamanın sonlandırılmasına neden olarak Windows'taki yığın azaltmalarının koruma düzeyini artırır. Risk azaltmalar şunları içerir:

- Bir HEAP tanıtıcısının serbest bırakılmasını önleme
- Yığın ayırmaları için genişletilmiş blok başlıklarında başka bir doğrulama gerçekleştirme
- Yığın ayırmaların zaten kullanımda olarak işaretlenmediğini doğrulama
- Büyük ayırmalara, yığın bölümlerine ve minimum boyutun üzerindeki alt bölümlere koruma sayfaları ekleme

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

Bu risk azaltma, 64 bit uygulamalar ve Windows Vista veya üzerini hedef alan 32 bit uygulamalar için varsayılan olarak zaten uygulanır. Uyumluluk sorunları nadir olsa da, Windows XP veya önceki sürümlerden eski uygulamalar en çok risk altındadır.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

> [!Note]
> **Yığın bütünlüğünü doğrulama** denetim moduna sahip değil.

## <a name="validate-image-dependency-integrity"></a>Görüntü bağımlılığı bütünlüğünü doğrula

### <a name="description"></a>Açıklama

*Görüntü bağımlılığını doğrulama* risk azaltımı, Windows ikili dosyaları tarafından statik olarak bağlanan dll'lerin yerine kod koymaya çalışan saldırılara karşı korunmaya yardımcı olur. DLL yerleştirme tekniği, kötü amaçlı kodun yükseltilmiş bir bağlamda çalışmasını sağlamak için kullanılabilen kötü amaçlı kodu eklemek için yükleyicinin arama mekanizmasını kötüye kullanır. Yükleyici, Windows imzalı bir ikili dosya yüklerken ve ardından ikili programın bağlı olduğu tüm dll'leri yüklerken, bu ikili dosyalar, aynı zamanda bir Windows ikili dosyası olarak dijital olarak imzalanmış olduklarından emin olmak için doğrulanır. İmza denetimi başarısız olursa, dll yüklenmeyecek ve bir özel durum atarak STATUS_INVALID_IMAGE_HASH durumunu döndürecektir.

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

Uyumluluk sorunları sık karşılaşılan bir durum değildir. Windows ikili dosyalarının yerel özel sürümlerle değiştirilmesine bağlı olan uygulamalar etkilenecektir ve ayrıca çok iş parçacıklı uygulamalarda ince zamanlama hatalarının ortaya çıkma riski de vardır.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

**Yalnızca denetim** - Bir uygulama üzerindeki olası uyumluluk etkisini ölçmek için bu risk azaltımını denetleme modunda etkinleştirebilirsiniz. Denetim olayları daha sonra olay görüntüleyicide veya [Uç Nokta için Defender](/microsoft-365/security/defender/advanced-hunting-overview)’da Gelişmiş Avcılık kullanılarak görüntülenebilir.

## <a name="validate-stack-integrity-stackpivot"></a>Yığın bütünlüğünü doğrula (StackPivot)

### <a name="description"></a>Açıklama

*Yığın bütünlüğünü doğrulama (StackPivot)* risk azaltımı, bir saldırganın yığın belleğinde sahte bir yığın oluşturduğu ve ardından uygulamayı, yürütme akışını kontrol eden sahte yığına geri döndürmesi için kandırdığı bir ROP saldırısı olan Stack Pivot saldırısına karşı korunmaya yardımcı olur.

Bu risk azaltma, birçok Windows API'sini engeller ve yığın işaretçisinin değerini inceler. Yığın işaretçisinin adresi yığının altı ve üstü arasında değilse, bir olay kaydedilir ve denetim modunda değilse işlem sonlandırılır.

Bu azaltma tarafından kesilen API'ler:

- `LoadLibraryA`
- `LoadLibraryW`
- `LoadLibraryExA`
- `LoadLibraryExW`
- `LdrLoadDll`
- `VirtualAlloc`
- `VirtualAllocEx`
- `NtAllocateVirtualMemory`
- `VirtualProtect`
- `VirtualProtectEx`
- `NtProtectVirtualMemory`
- `HeapCreate`
- `RtlCreateHeap`
- `CreateProcessA`
- `CreateProcessW`
- `CreateProcessInternalA`
- `CreateProcessInternalW`
- `NtCreateUserProcess`
- `NtCreateProcess`
- `NtCreateProcessEx`
- `CreateRemoteThread`
- `CreateRemoteThreadEx`
- `NtCreateThreadEx`
- `WriteProcessMemory`
- `NtWriteVirtualMemory`
- `WinExec`
- `CreateFileMappingA`
- `CreateFileMappingW`
- `CreateFileMappingNumaW`
- `NtCreateSection`
- `MapViewOfFile`
- `MapViewOfFileEx`
- `MapViewOfFileFromApp`
- `LdrGetProcedureAddressForCaller`

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

Sahte yığınlar kullanan uygulamalar etkilenecektir ve ayrıca çok iş parçacıklı uygulamalarda ince zamanlama hatalarını ortaya çıkarma riski de vardır.
API müdahalesi gerçekleştiren uygulamalar, özellikle güvenlik yazılımı, bu azaltma ile uyumluluk sorunlarına neden olabilir.

Bu risk azaltma, Rastgele Kod Koruması risk azaltması ile uyumlu değildir.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

**Yalnızca denetim** - Bir uygulama üzerindeki olası uyumluluk etkisini ölçmek için bu risk azaltımını denetleme modunda etkinleştirebilirsiniz. Denetim olayları daha sonra olay görüntüleyicide veya [Uç Nokta için Defender](/microsoft-365/security/defender/advanced-hunting-overview)’da Gelişmiş Avcılık kullanılarak görüntülenebilir.
