---
title: Exploit protection reference
keywords: azaltmalar, güvenlik açıkları, güvenlik açıkları, güvenlik açığı, azaltma, açıklardan yararlanma, açıklardan yararlanma, emet
description: Exploit Protection özelliğinin bu özellikte nasıl çalıştığını Windows
ms.pagetype: security
ms.prod: m365-security
ms.mktglfcycl: manage
ms.sitesec: library
ms.localizationpriority: medium
audience: ITPro
author: denisebmsft
ms.author: deniseb
ms.reviewer: cjacks
manager: dansimp
ms.custom: asr
ms.technology: mde
ms.topic: article
ms.collection: m365initiative-m365-defender
ms.date: 10/19/2021
ms.openlocfilehash: 68e0a855ce23991a90eae36d4ae34245a051bd81
ms.sourcegitcommit: bae72428d229827cba4c807d9cd362417afbcccb
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 02/02/2022
ms.locfileid: "63010178"
---
# <a name="exploit-protection-reference"></a>Exploit Protection Reference

[!INCLUDE [Microsoft 365 Defender rebranding](../../includes/microsoft-defender.md)]


**Aşağıdakiler için geçerlidir:**
- [Uç Nokta Planı 2 için Microsoft Defender](https://go.microsoft.com/fwlink/?linkid=2154037)
- [Microsoft 365 Defender](https://go.microsoft.com/fwlink/?linkid=2118804)

> Uç Nokta için Microsoft Defender'ı mı deneyimliysiniz? [Ücretsiz deneme için kaydol'](https://signup.microsoft.com/create-account/signup?products=7f379fee-c4f9-4278-b0a1-e4c8c2fcdf7e&ru=https://aka.ms/MDEp2OpenTrial?ocid=docs-wdatp-enablesiem-abovefoldlink)

Exploit protection, geliştirici yazılımı derledikten ve dağıttıktan Pro tarafından uygulanabilecek uygulamalar için gelişmiş korumalar sağlar.

Bu makale, Exploit Protection ilkelerini başarıyla oluşturma ve uygulamanıza yardımcı olmak için, hem ilke düzeyinde hem de tek tek risk azaltma düzeyinde exploit protection'ın nasıl çalıştığını anlamanıza yardımcı olur.

## <a name="how-mitigations-are-applied"></a>Azaltmalar nasıl uygulanır?

Exploit Protection azaltmaları uygulama başına uygulanır.

Azaltmalar, korumaları yapılandırılan her program için bir kayıt defteri girdisi aracılığıyla yapılandırılır. Bu ayarlar, her program için **RiskIgationOptions** kayıt defteri girdisinde (**HKEY_LOCAL_MACHINE \ SOFTWARE \ Microsoft \ Windows NT \ CurrentVersion \ Image File Execution *Options \ ImageFileName* \ MitigationOptions**) depolanır. Siz programı yeniden başlattıktan sonra geçerli olur ve siz programı yeniden başlatana kadar etkin kalırlar.

> [!IMPORTANT]
> Görüntü Dosyası Yürütme Seçenekleri yalnızca bir dosya adı veya yol belirtmenize olanak sağlar; sürüm numarası, mimari veya başka herhangi bir farklıtıcı belirtmenize izin verir. Benzersiz adlara veya yollara sahip uygulamalarda risk azaltmaları hedeflerken, bunları yalnızca o sürümü test ettiğniz cihazlara ve uygulamanın mimarisini uygulamaya uygularken dikkatli olun.

POWERShell, Grup İlkesi veya MDM aracılığıyla XML yapılandırma dosyası kullanarak exploit protection riskigations yapılandırırsanız, bu XML yapılandırma dosyasını işlerken tek tek kayıt defteri ayarları sizin için yapılandırılır.

XML dosyasını dağıtma ilkesi artık zorunlu kalmadan, bu XML yapılandırma dosyası tarafından dağıtılan ayarlar otomatik olarak kaldırılamaz. Exploit Protection ayarlarını kaldırmak için XML yapılandırmasını temiz bir Windows 10 Windows 11 cihazından dışarı aktarın ve bu yeni XML dosyasını dağıtın. Alternatif olarak, Microsoft Exploit Protection ayarlarını sıfırlamak için temel Windows Güvenliği XML dosyası sağlar.

PowerShell kullanarak exploit protection ayarlarını sıfırlamak için aşağıdaki komutu kullanabilirsiniz:

```powershell
Set-ProcessMitigation -PolicyFilePath EP-reset.xml
```
Temellerle EP-reset.xml aşağıdaki Windows Güvenliği dağıtılmıştır:
```xml
<?xml version="1.0" encoding="UTF-8"?>
<MitigationPolicy>
  <AppConfig Executable="ONEDRIVE.EXE">
    <DEP OverrideDEP="false" />
    <ASLR OverrideRelocateImages="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
    <ImageLoad OverrideBlockRemoteImages="false" />
  </AppConfig>
  <AppConfig Executable="firefox.exe">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
  </AppConfig>
  <AppConfig Executable="fltldr.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
    <ImageLoad OverrideBlockRemoteImages="false" />
    <ChildProcess OverrideChildProcess="false" />
  </AppConfig>
  <AppConfig Executable="GROOVE.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
    <ImageLoad OverrideBlockRemoteImages="false" />
    <ChildProcess OverrideChildProcess="false" />
  </AppConfig>
  <AppConfig Executable="Acrobat.exe">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="AcroRd32.exe">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="chrome.exe">
    <DEP OverrideDEP="false" />
  </AppConfig>
  <AppConfig Executable="EXCEL.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="iexplore.exe">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="INFOPATH.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="java.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="javaw.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="javaws.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="LYNC.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="MSACCESS.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="MSPUB.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="OIS.EXE">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="OUTLOOK.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="plugin-container.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="POWERPNT.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="PPTVIEW.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="VISIO.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="VPREVIEW.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="WINWORD.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="wmplayer.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="wordpad.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
</MitigationPolicy>
```

## <a name="mitigation-reference"></a>Azaltma Başvurusu

Aşağıdaki bölümlerde, her bir exploit protection azaltma tarafından sağlanan korumalar, risk azaltma için uyumluluk dikkate alınacak noktalar ve kullanılabilir yapılandırma seçenekleri ayrıntılarıyla açıklanmaktadır.

## <a name="arbitrary-code-guard"></a>Rastgele kod koruması

### <a name="description"></a>Açıklama

Rastgele kod koruması, bir bellek güvenliği açığı nedeniyle tercih edilen kodu belleğe yüklemesi ve bu kodu yürütmesine karşı kötü niyetli bir saldırgana karşı korunmaya yardımcı olur.

Rastgele kod koruması, uygulamanın dinamik olarak oluşturulan kodu (örneğin, exe'nin kendi veya dll'den yüklenmemiş olan kod) yürütmesini korur. Rastgele kod koruması, belleğin yürütülebilir dosya olarak işaret önüne geçerek çalışır. Bir uygulama bellek ayırmaya [geldiğinde](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc) koruma bayraklarını kontrol edeceğiz. (Bellek okuma, yazma ve/veya yürütme koruma bayraklarıyla tahsis edilir.) Ayırma, yürütme koruma bayrağını [*da içermeye*](/windows/win32/memory/memory-protection-constants) çalışırsa, bellek ayırma başarısız olur ve bir hata kodu (STATUS_DYNAMIC_CODE_BLOCKED). Benzer şekilde, uygulama zaten ayrılmış olan bellek [](/windows/win32/api/memoryapi/nf-memoryapi-virtualprotect) koruma bayraklarını değiştirmeye çalışır ve [*yürütme*](/windows/win32/memory/memory-protection-constants) koruma bayrağını içerirse, izin değişikliği başarısız olur ve bir hata kodu (STATUS_DYNAMIC_CODE_BLOCKED).

Yürütme bayrağının ayarlanmış  olmasıyla, Windows 10 ve Windows 11'in veri yürütme engelleme özelliği, bu belleğe ayarlanmış yönerge işaretçisine karşı koruma sağlar ve bu kodu çalıştırabilir.

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

Rastgele kod koruması, herhangi bir belleği yürütülebilir dosya olarak ayırt etmeye engel olur ve bu da Just-in-Time (JIT) derleyicileri gibi yaklaşımlarla uyumluluk sorunu sağlar. Örneğin modern tarayıcıların çoğu, performansı en iyi duruma getirmek için JavaScript'i yerel kodda derler. Bu risk azaltmayı desteklemek için, JIT derlemelerini korumalı işlem dışında taşımak için bunların yenidenlenmesi gerekir. Tasarımı betiklerden veya diğer ara dillerden dinamik olarak kod oluşturan diğer uygulamalar da bu risk azaltmayla benzer şekilde uyumlu olmayacaktır.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

**Zincirden çıkmaya izin** ver - Azaltmayı tek bir iş parçacığının bu korumayı gerisine izin verecek şekilde yapılandırabilirsiniz. Geliştirici, bu risk azaltmayı farkında olarak uygulamayı yazmış ve bu iş parçacığında dinamik kodu yürütmeye izin verilmiyor olması için *ThreadInformation parametresi ThreadInformation* parametresiyle  [**SetThreadInformation**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadinformation) API olarak adlandırılan bu uygulamayı yazmış olmalıdır.

**Yalnızca denetim** - Bir uygulama üzerindeki olası uyumluluk etkisini ölçmek için denetim modunda bu risk azaltmayı etkinleştirebilirsiniz. Denetim olayları daha sonra olay görüntüleyicisinde veya Uç Nokta için Defender'da Gelişmiş Av [kullanılarak görüntülenebilir](/microsoft-365/security/defender/advanced-hunting-overview).

## <a name="block-low-integrity-images"></a>Düşük bütünlük görüntülerini engelleme

### <a name="description"></a>Açıklama

Düşük bütünlük görüntülerini engelle, uygulamanın güvenilmeyen dosyaları yüklemesini, normalde çünkü bunlar İnternet'den korumalı bir tarayıcıdan indirilmiş olduğundan engellenir.

Resmin Düşük IL işlemlerine erişim izni veren ve ACE güven etiketine sahip olmadığınız bir Erişim Denetim Girdisi (ACE) varsa, bu azaltma, resmin yüklerini engelleyebilir. Dosyanın belleğe eşlenimlerini engelleyen bellek yöneticisi tarafından uygulanır. Uygulama düşük bir bütünlük resmi eşlemeye çalışırsa, bu hatanın STATUS_ACCESS_DENIED tetikler. Bütünlük düzeylerinin nasıl çalışması hakkında ayrıntılı bilgi için [bkz. Zorunlu Bütünlük Denetimi](/windows/win32/secauthz/mandatory-integrity-control).

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

Düşük bütünlük resimleri engelle, uygulamanın İnternet'ten indirilen dosyaları yüklemesini engelleyebilir. Uygulama iş akışınız indirilen resimlerin yüklenmesini gerektiriyorsa, bunların daha yüksek güvenilir bir işlemden indirilmiş olduğundan veya bu risk azaltmayı uygulamak için açıkça yeniden etiketleniyorlar.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

**Yalnızca Denetim** - Bir uygulama üzerindeki olası uyumluluk etkisini ölçmek için denetim modunda bu etkiyi etkinleştirebilirsiniz. Denetim olayları daha sonra olay görüntüleyicisinde veya Uç Nokta için Microsoft Defender'da Gelişmiş Av [kullanılarak görüntülenebilir](/microsoft-365/security/defender/advanced-hunting-overview).

## <a name="block-remote-images"></a>Uzak resimleri engelleme

### <a name="description"></a>Açıklama

Uzak resimlerin engellenmesi, uygulamanın UNC paylaşımı gibi uzak bir cihazda barındırılan dosyaları yüklemesini önlemeye yardımcı olur. Uzaktan resimlerin engellenmesi, ikililerin saldırgan tarafından denetlenen bir dış cihazda belleğe yüklenmesine karşı korunmaya yardımcı olur.

Görüntünün uzak bir cihazda olduğu belirlense, bu azaltma, resmin yüklerini engelleyebilir. Dosyanın belleğe eşlenimlerini engelleyen bellek yöneticisi tarafından uygulanır. Bir uygulama uzak dosyayı eşlemeye çalışırsa, bu hatanın tetik STATUS_ACCESS_DENIED olur.

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

Uzak resimleri engelle, uygulamanın uzak cihazlardan resimleri yüklemesini engellemektedir. Uygulamanız uzak cihazlardan dosyaları veya eklentileri yüklerse, bu risk azaltmayla uyumlu olmayacaktır.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

**Yalnızca Denetim** - Bir uygulama üzerindeki olası uyumluluk etkisini ölçmek için denetim modunda bu etkiyi etkinleştirebilirsiniz. Denetim olayları daha sonra olay görüntüleyicisinde veya Uç Nokta için Microsoft Defender'da Gelişmiş Av [kullanılarak görüntülenebilir](/microsoft-365/security/defender/advanced-hunting-overview).

## <a name="block-untrusted-fonts"></a>Güvenilmeyen yazı tiplerini engelleme

### <a name="description"></a>Açıklama

Güvenilmeyen yazı tiplerini engelleme, saldırganin cihazda kod çalıştırabilmesine yol alan yazı tipi ayrıştırmanın kusurlarının riskini azalttı. GDI tarafından işleme için yalnızca windows\fonts dizinine yüklenen yazı tipleri yüklenir.

Bu azaltma, dosyanın konumunu doğrulayan GDI'nin içinde uygulanır. Dosya sistem yazı tipleri dizininde yoksa, yazı tipi ayrıştırma için yüklenmez ve bu arama başarısız olur.

Bu azaltma, Windows 10 1607 ve sonraki hizmetlerde sağlanan yerleşik azaltmaya ek olarak, yazı tipi ayrıştırmayı çekirdekten dışarı ve kullanıcı modu uygulama kapsayıcılarına taşır olan Windows 11'i de kullanır. Sonuç olarak, yazı tipi ayrıştırmaya dayalı tüm açıkları korumalı ve yalıtılmış bir bağlamda kullanır ve bu da riski önemli ölçüde azaltır. Bu azaltma hakkında ayrıntılı bilgi için, Sıfır günlük sömürüm azaltmaları [ile Windows 10 Engelleme blogu'nu ziyaret edin](https://www.microsoft.com/security/blog/2017/01/13/hardening-windows-10-with-zero-day-exploit-mitigations/).

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

Sistem yazı tipleri dizininin dışındaki yazı tiplerinin en yaygın kullanımı web yazı [tipleridir](/typography/fonts/font-faq#web). Modern tarayıcılar, Microsoft Edge GDI yerine DirectWrite tarayıcıları kullanır ve bunlar etkilenmez. Bununla birlikte, internet explorer 11 (ve yeni Microsoft Edge'te IE modu) gibi eski tarayıcılar, özellikle de kullanıcı arabirimini görüntülemek için yazı tipi karakterlerini kullanan Office 365 gibi uygulamalarla) etki kullanılabilir.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

**Yalnızca Denetim** - Bir uygulama üzerindeki olası uyumluluk etkisini ölçmek için denetim modunda bu etkiyi etkinleştirebilirsiniz. Denetim olayları daha sonra olay görüntüleyicisinde veya Uç Nokta için Microsoft Defender'da Gelişmiş Av [kullanılarak görüntülenebilir](/microsoft-365/security/defender/advanced-hunting-overview).

## <a name="code-integrity-guard"></a>Kod bütünlüğü koruması

### <a name="description"></a>Açıklama

Kod bütünlüğü koruması, işleme yüklenen tüm ikililerin Microsoft tarafından dijital olarak imzalanmışlarını sağlar. Kod bütünlüğü koruması[, WHQL](/windows-hardware/drivers/install/whql-release-signature) onaylı sürücülerin süreç içinde çalışmasına izin verecek WHQL (Windows Donanım Kalitesi Laboratuvarları) imzaları içerir.

Bu azaltma, ikilinin belleğe eşlenimlerini engelleyen bellek yöneticisi içinde uygulanır. Microsoft tarafından imzalanmaz bir ikili dosya yüklemeye çalışsanız, bellek yükleyicisi ikili dosya yükleme STATUS_INVALID_IMAGE_HASH. Bu, bellek yöneticisi düzeyinde engelleyerek, hem işlem tarafından yüklenen ikililerin hem de işlemde yer alan ikililerin engellenmesini sağlar.

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

Bu risk azaltma özellikle Microsoft tarafından imzası atülen ikilileri engeller. Bu nedenle, bu yazılım Microsoft Store tarafından dağıtılmadıkça ve Microsoft Store tarafından imzalanan resimlerin yüklenmesine izin vermedikçe çoğu üçüncü taraf yazılımla uyumlu olmayacaktır.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

**Ayrıca Microsoft Store** tarafından imzalanan resimlerin yüklenmesine izin ver - Microsoft Store tarafından dağıtılan uygulamalar Microsoft Store tarafından dijital olarak imzalanmıştır ve bu yapılandırmanın ekli olması, mağaza sertifika sürecinden geçen ikili uygulamaların uygulama tarafından yüklenmesini sağlar.

**Yalnızca Denetim** - Bir uygulama üzerindeki olası uyumluluk etkisini ölçmek için denetim modunda bu etkiyi etkinleştirebilirsiniz. Denetim olayları daha sonra olay görüntüleyicisinde veya Uç Nokta için Microsoft Defender'da Gelişmiş Av [kullanılarak görüntülenebilir](/microsoft-365/security/defender/advanced-hunting-overview).

## <a name="control-flow-guard-cfg"></a>Control flow guard (CFG)

### <a name="description"></a>Açıklama

Flow Guard'ı (CFG) kontrol etmek, dolaylı işlev aramalarını koruyarak bellek bozulması güvenlik açıklarını kullanan saldırganların riskini azaltır. Örneğin, bir saldırgan bir işlev işaretçisi içeren belleğin üzerine yazmak için bir tampon taşması güvenlik açığı kullanabilir ve bu işlev işaretçisini tercih edilen yürütülebilir koda bir imleçle değiştirebilir (programa da gir edilmiş olabilir).

Bu azaltma, derleme zamanında başka bir denetim ekleme ile sağlanır. Her dolaylı işlev çağrısından önce, hedefin çağrılmadan önce geçerli bir arama hedefi olduğunu doğrulayan başka bir yönergeler eklenir. Hedef geçerli bir çağrı hedefi değilse, uygulama sonlandırılır. Bu nedenle, bu risk azaltmadan yalnızca CFG desteği ile derlenmiş uygulamalar yararlanabilir.

Geçerli bir hedef olup olmadığını denetleme, çekirdek tarafından Windows sağlanır. Yürütülebilir dosyalar yüklendiğinde, dolaylı arama hedefleri için meta veriler yükleme zamanında ayıklanır ve geçerli arama hedefleri olarak işaretlenir. Buna ek olarak, bellek tahsis edilmiş ve yürütülebilir kod olarak işaretlenirken, bu bellek konumları da JIT derlemesi gibi mekanizmalara destek olmak için geçerli arama hedefleri olarak işaretlenir.

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

Uygulamaların CFG'yi desteklemek için derlenmiş olması gerekir, çünkü uygulamalar buna örtülü olarak uyumluluklarını bildirmektedirler. Dolayısıyla çoğu uygulama, bu risk azaltma etkin durumda olmalıdır. Bu denetimler ikili olarak derlenmiş olduğundan, uygulayabilecek yapılandırma yalnızca çekirdek içindeki denetimleri devre dışı Windows etmektir. Başka bir deyişle, risk azaltma varsayılan olarak açıktır, ancak daha sonra uygulama geliştiricisi tarafından testlerinde keşfedilen bir uyumluluk sorunu olduğunu belirlerseniz Windows çekirdeki her zaman "evet" dönecek şekilde yapılandırabilirsiniz ve bu da nadiren de olabilir.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

**Katı CFG kullan** - Katı modda, işleme yüklenen tüm ikililerin yükleniyor olması için Control Flow Guard'da derlenmiş olması (veya bunların içinde yürütülebilir kod (kaynak dll gibi) yoktur.

> [!Note]
> **Control flow guard'da** denetim modu yoktur. Ikili dosyalar, bu risk azaltma etkinleştirilmiş olarak derlenmiş durumdadır.

## <a name="data-execution-prevention-dep"></a>Veri Yürütme Engellemesi (DEP)

### <a name="description"></a>Açıklama

Veri yürütme engellemesi (DEP), açıkça yürütülebilir olarak tahsis edilmiş bir belleğin yürütülmesini önler. DEP, arabelleğe taşma gibi kötü amaçlı kod eklemeye ve sonra bu kodu yürütmeye karşı bir saldırgana karşı korunmaya yardımcı olur.

Yönerge işaretçisini yürütülebilir dosya olarak işaretlenen bir bellek adresine ayarlamaya çalışsanız, işlemci bir özel durum oluşturur (genel koruma ihlali), uygulamanın kilitlenmesine neden olur.

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

Tüm x64, ARM ve ARM-64 yürütülebilir dosyaları DEP varsayılan olarak etkindir ve devre dışı bırakılamaz. Bir uygulama DEP olmadan hiç yürütülmeyecek olduğu için, uyumluluk varsayılır.

Tüm x86 (32 bit) ikili dosyalar DEP'yi varsayılan olarak etkinleştirilmiştir, ancak deP her işlem için devre dışı bırakılabilir. Normal olarak XP SP2'den önce geliştirilen Windows eski uygulamalar, DEP ile uyumlu değildir. Bu tür uygulamalar genellikle dinamik olarak kod oluşturur (örneğin, JIT derlemesi) veya kodu dinamik olarak oluşturan eski kitaplıklara (ATL'nin eski sürümleri gibi) bağlantı oluşturur.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

**ATL Thunk emulation'i** etkinleştirme - Bu yapılandırma seçeneği ATL Thunk emulation'ı devre dışı bırakar. Şablon Kitaplığı ActiveX ATL, mümkün olduğunca küçük ve hızlı olacak şekilde tasarlanmıştır. İkili boyutu azaltmak için bu işlem, *thunking* adı verilen bir teknik kullanır. Bu zaman genellikle 32 bit ve 16 bit uygulamalar arasında etkileşim olduğu düşünmektedir, ancak burada ATL için 16 bit bileşeni yoktur. Bunun yerine, ikili boyutu iyileştirmek için ATL makine kodunu sözcük hizalanmamış bellekte depolar (daha küçük ikililer oluşturarak) ve bu kodu doğrudan çağırır. Visual Studio 7.1 veya önceki sürümleriyle (Visual Studio 2003) derlenmiş ATL bileşenleri bu belleği yürütülebilir dosya olarak ayırmaz; bu şekilde emülk emülmesi bu uyumluluk sorununu çözer. İkili uzantı modeli (Internet Explorer 11 gibi) olan uygulamaların çoğunlukla ATL Thunk emülasyonu etkin olmalıdır.

## <a name="disable-extension-points"></a>Uzantı noktalarını devre dışı bırakma

### <a name="description"></a>Açıklama

Bu azaltma, kalıcılık kurmak veya kötü amaçlı içeriğin ayrıcalıklarını yükseltmek için kullanılmaktadır ve uygulamanın çeşitli uzantı noktalarını devre dışı bırakarak devre dışı bıraktır.

Bu şunları içerir:

- **AppInit DLL'leri** - Bir işlem başlatıldığında sistem, giriş noktası işlevini çağırmadan önce belirtilen DLL'yi yeni başlatan işlem bağlamına yükler. [AppInit DL'leri ile ilgili ayrıntılar burada bulunabilir](/windows/win32/winmsg/about-window-classes#application-global-classes). Bu azaltma uygulandığında AppInit DL'leri yüklenmez. Windows 7'den başarak, AppInit DL'leri burada açıklandığı gibi dijital [olarak imzalanmış olması gerekir](/windows/win32/win7appqual/appinit-dlls-in-windows-7-and-windows-server-2008-r2). Buna ek olarak, Windows 8 ve SecureBoot etkinleştirildiyse AppInit DL'leri [burada açıklandığı gibi yüklenmez](/windows/win32/dlls/secure-boot-and-appinit-dlls).
- **Eski IM'ler** - Giriş Yöntemi Düzenleyicisi (IME), kullanıcının klavyede temsil edilen karakterden daha fazla karakter içeren bir dilde metin yazması için izin verir. Üçüncü taraflar IM oluşturabilir. Kötü amaçlı bir IME, bu giriş yakalaması ile kimlik bilgilerini veya diğer hassas bilgileri edinebilirsiniz. Eski IM'ler olarak adlandırılan bazı IM'ler, UWP Windows değil, yalnızca Windows Masaüstü uygulamaları üzerinde çalışır. Bu azaltma, bu eski IME'nin belirtilen Masaüstü uygulamasına yüklenmesini Windows sağlar.
- **Windows Bağlantıları** - Bir uygulama [SetWinEventEventEvent API'sini](/windows/win32/api/winuser/nf-winuser-setwineventhook) çağırarak ilgiyi devam alan bir etkinliğe kayıt yaptırebilir. Bir DLL belirtilir ve işlemde yer alan bir DLL olabilir. Bu azaltma, çengelin, işlem içinde bir dll içinde çalıştırmak yerine yazma işlemine gönderilen oltayı zorlar.

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

Bu uzantı noktalarının çoğu görece seyrek kullanılır, dolayısıyla uyumluluk etkisi genellikle küçüktür ve özellikle de tek bir uygulama düzeyindedir. Dikkat edilmesi gereken nokta, kullanıcıların korunan uygulamayla çalışmayan üçüncü taraf Eski IM'ler kullanıyor olduğudur.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

Bu risk azaltma için yapılandırma seçeneği yoktur.

> [!Note]
> **Uzantı noktalarını devre dışı** bırakmanın denetim modu yoktur.

## <a name="disable-win32k-system-calls"></a>Win32k sistem aramalarını devre dışı bırakma

### <a name="description"></a>Açıklama

Win32k.sys bir saldırgan için geniş bir saldırı yüzeyi sağlar. Çekirdek modunda bir bileşen olarak, bu bileşen sıklıkla korumalı alanlı uygulamalar için bir çıkış vektörü olarak hedef almaktadır. Bu azaltma, bir iş parçacığının kendisini GUI iş parçacığına dönüştürmesini engelleyerek win32k.sys'e yapılan çağrıların önüne geçmektedir ve bu da Win32k işlevlerini çağırması için erişim sağlar. Oluşturulan iş parçacığı GUI olmayan bir iş parçacığıdır, ancak ilk çağrıda win32k.sys veya [ISGuiThread API çağrısı aracılığıyla dönüştürülür](/windows/win32/api/winuser/nf-winuser-isguithread).

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

Bu azaltma, kullanıcı arabirimi olmayan ayrılmış süreçler için tasarlanmıştır. Örneğin, birçok modern tarayıcı işlem yalıtım kullanır ve kullanıcı arabirimi olmayan işlemleri dahil çalışır. Tek işlemle GUI görüntüleyen her uygulama bu etkiyi etkiler.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

**Yalnızca Denetim** - Bir uygulama üzerindeki olası uyumluluk etkisini ölçmek için denetim modunda bu etkiyi etkinleştirebilirsiniz. Denetim olayları daha sonra olay görüntüleyicisinde veya Uç Nokta için Microsoft Defender'da Gelişmiş Av [kullanılarak görüntülenebilir](/microsoft-365/security/defender/advanced-hunting-overview).

## <a name="do-not-allow-child-processes"></a>Alt işlemlere izin verme

### <a name="description"></a>Açıklama

Bu azaltma, bir uygulamanın yeni alt uygulamalar oluşturmasını engellemektedir. Rakipler tarafından kullanılan yaygın bir teknik, cihazda genellikle başka bir uygulamanın başlatılmasını gerektiren kötü amaçlı girişler (karadan bir saldırı) ile güvenilir bir süreç başlatmaktır. Bir uygulamanın çocuk süreci başlatması için geçerli bir neden yoksa bu risk azaltma, olası saldırı vektörü risklerini azalttı. Azaltma, işlem belirtecinde bir özellik ayar oluşturarak uygulanır ve bu, hata iletisiyle alt işlem için belirteç STATUS_CHILD_PROCESS_BLOCKED.

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

Tarayıcınız herhangi bir nedenle alt uygulamaları başlatıyorsa (tarayıcı veya dış tarayıcı başlatan veya bilgisayarda başka yardımcı programlar başlatan köprüler gibi) bu işlevsellik, bu risk azaltma uygulanmış olarak bozuk olur.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

**Yalnızca Denetim** - Bir uygulama üzerindeki olası uyumluluk etkisini ölçmek için denetim modunda bu etkiyi etkinleştirebilirsiniz. Denetim olayları daha sonra olay görüntüleyicisinde veya Uç Nokta için Microsoft Defender'da Gelişmiş Av [kullanılarak görüntülenebilir](/microsoft-365/security/defender/advanced-hunting-overview).

## <a name="export-address-filtering"></a>Adres filtrelemeyi dışarı aktarma

### <a name="description"></a>Açıklama

Adres dışarı aktarma filtrelemesi (EAF), saldırılarında yararlı API'ler içeren modülleri bulmak için yüklenen tüm modüllerin dışarı aktarma adresi tablosuna bakarak kötü amaçlı kod riskini azalttı. Bu, kabukkodu tarafından kullanılan yaygın bir tacticdir. Böyle bir saldırı riskini azaltmak için, bu risk azaltma üç yaygın saldırı modülünü korur:

- ntdll.dll
- kernelbase.dll
- kernel32.dll

Azaltma, dışarı aktarma adresi tablosuna olan [dışarı aktarma dizini" içinde bellek [sayfasını korur](/windows/win32/debug/pe-format#export-address-table). Bu bellek sayfasına [PAGE_GUARD koruma uygulanır](/windows/win32/memory/creating-guard-pages) . Birisi bu belleğe erişmeye çalıştığında, bir hata STATUS_GUARD_PAGE_VIOLATION. Etki azaltma bu özel durumu ele alır ve erişim yönergesi doğrulamayı geçemezse, işlem sonlandırılacaktır.

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

Bu azaltma öncelikle hata ayıklama aracı, korumalı uygulamalar, DRM kullanan uygulamalar veya hata ayıklama önleme teknolojisi uygulayan uygulamalar gibi uygulamalarda sorundur.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

**Istismarlar tarafından yaygın olarak** kötüye kullanılan modüller için erişimi doğrulama - EAF+, olarak da bilinen bu seçenek, yaygın olarak saldırıya neden olan diğer modüller için korumalar ekler:

- `mshtml.dll`
- `flash*.ocx`
- `jscript*.ocx`
- `vbscript.dll`
- `vgx.dll`
- `mozjs.dll`
- `xul.dll`
- `acrord32.dll`
- `acrofx32.dll`
- `acroform.api`

Buna ek olarak, EAF+'yi etkinleştirerek bu risk azaltma, PE dosyasındaki [DOS](/windows/win32/debug/pe-format#ms-dos-stub-image-only) üst bilgisini ilk iki bayt olan "MZ" üstbilgisini içeren sayfaya PAGE_GUARD korumasını ekler. Bu, bellekte önemli olabilecek modülleri tanımlamak için kabuk kodunun bakılabileceği bilinen bellek içeriğinin bir diğer yönüdür.

**Yalnızca Denetim** - Bir uygulama üzerindeki olası uyumluluk etkisini ölçmek için denetim modunda bu etkiyi etkinleştirebilirsiniz. Denetim olayları daha sonra olay görüntüleyicisinde veya Uç Nokta için Microsoft Defender'da Gelişmiş Av [kullanılarak görüntülenebilir](/microsoft-365/security/defender/advanced-hunting-overview).

## <a name="force-randomization-for-images-mandatory-aslr"></a>Resimler için rastgele rastgele başlatmaya zorlama (Zorunlu ASLR)

### <a name="description"></a>Açıklama

Adres Alanı Düzeni RastgeleLeştirme (ASLR) bir saldırganın, işlem belleğinde zaten var olan ve yürütülebilir olarak işaretlenmiş kodu yürütmek için sistemin bellek düzeniyle ilgili bilgi sahibi olan bir saldırgan riskini azalttı. Bu, geri dön-libc saldırıları gibi teknikler kullanarak bir saldırgan riskini azaltabilir; burada adversary bağlamı ayarlar ve sonra da dönüş adresini, var olan kodu, yardımcının amacına uygun bağlamla yürütülecek şekilde değiştirebilir.

Zorunlu ASLR, işlem içindeki tüm DL'leri yeniden tabanına zorunludur. Bir geliştirici [/DYNAMICBASE](/cpp/build/reference/dynamicbase-use-address-space-layout-randomization) bağlantıleyici seçeneğini kullanarak ASLR'yi etkinleştirebilirsiniz ve bu azaltma da aynı etkiyi sağlar.

Bellek yöneticisi resimle süreç arasında eşlerken, Zorunlu ASLR, ASLR'ye katılmamış OLAN DLL'leri ve EXE'leri zorunlu olarak yeniden kullanır. Bununla birlikte, bu rebasingin entropy olmadığını ve dolayısıyla bellekte öngörülebilir bir konuma yerleştirililebni unutmayın. İkili tabanda yeniden ve rastgele bir konuma sahip olması için bu azaltma, Rastgele bellek [ayırmaları (Alttan ASLR) ile eşleştirilmeli](#randomize-memory-allocations-bottom-up-aslr).

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

ASLR'nin bu uyumluluk etkisi normalde ikili dosyanın temel adresi hakkında varsayımlar yapan veya temel yeniden yükleme bilgilerini silen derleyiciler kullanılarak yerleşik olan eski uygulamalarla kısıtlıdır. Bu, yürütme akışı bellekte gerçek konumu yerine beklenen konuma atlamaya çalışırken öngörülemeyen hatalara yol açabilirsiniz.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

**Kaldırmak istediğiniz resimlere izin verme** - Bu seçenek, yeniden yükleme bilgileri alınan resimlerin yüklenmesini engeller. Windows PE dosya biçimi mutlak adresleri içerir ve derleyici ayrıca, yükleyicinin tüm göreli bellek başvurularını ve bunların göreli göreli konumlarını bulmak için kullanabileceği bir [temel konum tablosu da üretir; dolayısıyla ikili tercih edilen temel adrese yüklenmezse güncelleştirilebilir. Bazı eski uygulamalar bu bilgileri üretim derlemelerinde silendir ve bu nedenle bu ikili dosyalar destek kullanılamaz. Bu azaltma, söz konusu ikili ikililerin yükleniyor olması engeller (bunların tercih edilen temel adrese yüklenmelerine izin yerine).

> [!Note]
> **Resimler için rastgele başlatmaya zorlar (Zorunlu ASLR)** denetim moduna sahip değildir.

## <a name="import-address-filtering-iaf"></a>Adres filtrelemeyi (IAF) içeri aktarma

### <a name="description"></a>Açıklama

İçeri aktarma adresi filtreleme (IAF) azaltma, içeri aktarma adresi tablosunda (IAT) bu işlev çağrılsa bile saldırgan seçimlerinin rastgele koduna yeniden yönlendirerek, uygulamanın denetim akışını değiştirme riskini azaltmaya yardımcı olur. Bir saldırgan hassas API'lere yapılan çağrıları engellemek, incelemek ve engellemek için bu yaklaşımı kullanabilir.

Korunan tüm API'lerin bellek sayfalarına [PAGE_GUARD koruma uygulanır](/windows/win32/memory/creating-guard-pages) . Birisi bu belleğe erişmeye çalıştığında, bir hata STATUS_GUARD_PAGE_VIOLATION. Etki azaltma bu özel durumu ele alır ve erişim yönergesi doğrulamayı geçemezse, işlem sonlandırılacaktır.

Bu azaltma, API'lerde Windows korur:

- `GetProcAddress`
- `GetProcAddressForCaller`
- `LoadLibraryA`
- `LoadLibraryExA`
- `LoadLibraryW`
- `LoadLibraryExW`
- `LdrGetProcedureAddress`
- `LdrGetProcedureAddressEx`
- `LdrGetProcedureAddressForCaller`
- `LdrLoadDll`
- `VirtualProtect`
- `VirtualProtectEx`
- `VirtualAlloc`
- `VirtualAllocEx`
- `NtAllocateVirtualMemory`
- `NtProtectVirtualMemory`
- `CreateProcessA`
- `CreateProcessW`
- `WinExec`
- `CreateProcessAsUserA`
- `CreateProcessAsUserW`
- `GetModuleHandleA`
- `GetModuleHandleW`
- `RtlDecodePointer`
- `DecodePointer`

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

API engellemesi yapan geçerli uygulamalar bu risk azaltma tarafından algılandığında ve bazı uygulamaların kilitlenmeye neden olabilir. Örnek olarak güvenlik yazılımı ve uygulama uyumluluğu örnekleri yer almaktadır.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

**Yalnızca Denetim** - Bir uygulama üzerindeki olası uyumluluk etkisini ölçmek için denetim modunda bu etkiyi etkinleştirebilirsiniz. Denetim olayları daha sonra olay görüntüleyicisinde veya Uç Nokta için Microsoft Defender'da Gelişmiş Av [kullanılarak görüntülenebilir](/microsoft-365/security/defender/advanced-hunting-overview).

## <a name="randomize-memory-allocations-bottom-up-aslr"></a>Bellek ayırmalarını rastgele atama (Aşağıdan yukarı ASLR)

### <a name="description"></a>Açıklama

Bellek ayırmaları (Aşağıdan yukarı ASLR) yeniden yüklemelere entropy ekler, dolayısıyla konumları rastgele sıralanabilir ve dolayısıyla öngörülebilir değildir. Bu azaltmanın geçerlik için Zorunlu ASLR'ye ihtiyacı vardır.

32 bit adres alanı boyutu, eklenebiliyor olan entropy üzerinde pratik sınırlamalar sağlar ve bu nedenle 64 bit uygulamalar bir saldırganın bellekte bir konumu tahmin tahminlerini zorlaştırıyor.

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

Zorunlu ASLR (rebasing) ile uyumlu uygulamaların çoğu, alttan aşağıya ASLR'nin diğer entropy ile de uyumludur. Yerel işaretçileri 32 bit değişkenlerde kaydeden (4 GB'nin altında bir temel adres bekliyor) ve dolayısıyla büyük entropi seçeneğiyle (devre dışı bırakılabilir) uyumlu olmayan bazı uygulamalarda işaretçiyi kesme sorunları olabilir.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

**Yüksek** entropi kullanma - Bu seçenek, 64 bit uygulamalar için alttan yukarı ayırmaya 24 bit entropy (1 TB) entropy (1 TB) değeri ekleyen yüksek-entropy ASLR kullanımını devre dışı bırakmaktadır.

> [!Note]
> **Bellek ayırmaları (Aşağıdan yukarı ASLR)** rastgele ayırmalarda denetim modu yoktur.

## <a name="simulate-execution-simexec"></a>Yürütmeyi benzetimini (SimExec)

### <a name="description"></a>Açıklama

Benzetim yürütme (SimExec), yalnızca 32 bit uygulamalar için bir risk azaltmadır. Bu, hassas API'lere yapılan çağrıların yasal arayan işlevlerine geri döneceği doğrulanmasına yardımcı olur. Bunu yapmak için, aramaları hassas API'lere kesiştirin ve ardından çağırana geri dönecek RET yönergesini arayan kodlanmış derleme dili yönergelerini araarak bu API'lerin yürütülmesini simüle edin. Daha sonra bu işlevi inceler ve bellekte geriye doğru hareket edip işlevle CALL yönergesi eşleşmesi olup olmadığını ve RET'nin kesişip kesişmemesini belirlemek için önceki CALL yönergesini bulur.

Bu risk azaltma tarafından kesişen API'ler:

- `LoadLibraryA`
- `LoadLibraryW`
- `LoadLibraryExA`
- `LoadLibraryExW`
- `LdrLoadDll`
- `VirtualAlloc`
- `VirtualAllocEx`
- `NtAllocateVirtualMemory`
- `VirtualProtect`
- `VirtualProtectEx`
- `NtProtectVirtualMemory`
- `HeapCreate`
- `RtlCreateHeap`
- `CreateProcessA`
- `CreateProcessW`
- `CreateProcessInternalA`
- `CreateProcessInternalW`
- `NtCreateUserProcess`
- `NtCreateProcess`
- `NtCreateProcessEx`
- `CreateRemoteThread`
- `CreateRemoteThreadEx`
- `NtCreateThreadEx`
- `WriteProcessMemory`
- `NtWriteVirtualMemory`
- `WinExec`
- `CreateFileMappingA`
- `CreateFileMappingW`
- `CreateFileMappingNumaW`
- `NtCreateSection`
- `MapViewOfFile`
- `MapViewOfFileEx`
- `MapViewOfFileFromApp`
- `LdrGetProcedureAddressForCaller`

GADGET aracı algılanırsa, işlem sonlandırılır.

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

API engellemesi kullanan uygulamalar, özellikle de güvenlik yazılımı bu risk azaltmada uyumluluk sorunlarına neden olabilir.

Bu azaltma, Rastgele Code Guard'ın azaltmayla uyumlu değildir.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

**Yalnızca Denetim** - Bir uygulama üzerindeki olası uyumluluk etkisini ölçmek için denetim modunda bu etkiyi etkinleştirebilirsiniz. Denetim olayları daha sonra olay görüntüleyicisinde veya Uç Nokta için Microsoft Defender'da Gelişmiş Av [kullanılarak görüntülenebilir](/microsoft-365/security/defender/advanced-hunting-overview).

## <a name="validate-api-invocation-callercheck"></a>API iptali doğrulama (CallerCheck)

### <a name="description"></a>Açıklama

API çağırmasını doğrulama (CallerCheck), hassas API'lerin geçerli bir arayandan çağrıl olduğunu doğrulayan, dönüş odaklı programlama (YALNIZA) teknikleri için bir azaltmadır. Bu azaltma, geçirilen iade adresini inceler ve ardından, arama hedefinin işleve geçirilen parametreyle eşleşerek eşleşerek olup olmadığını belirlemek için dönüş adresinin üstünde bir çağrı bulmak için heurist olarak geriye doğru parçalarına iner.

Bu risk azaltma tarafından kesişen API'ler:

- `LoadLibraryA`
- `LoadLibraryW`
- `LoadLibraryExA`
- `LoadLibraryExW`
- `LdrLoadDll`
- `VirtualAlloc`
- `VirtualAllocEx`
- `NtAllocateVirtualMemory`
- `VirtualProtect`
- `VirtualProtectEx`
- `NtProtectVirtualMemory`
- `HeapCreate`
- `RtlCreateHeap`
- `CreateProcessA`
- `CreateProcessW`
- `CreateProcessInternalA`
- `CreateProcessInternalW`
- `NtCreateUserProcess`
- `NtCreateProcess`
- `NtCreateProcessEx`
- `CreateRemoteThread`
- `CreateRemoteThreadEx`
- `NtCreateThreadEx`
- `WriteProcessMemory`
- `NtWriteVirtualMemory`
- `WinExec`
- `CreateFileMappingA`
- `CreateFileMappingW`
- `CreateFileMappingNumaW`
- `NtCreateSection`
- `MapViewOfFile`
- `MapViewOfFileEx`
- `MapViewOfFileFromApp`
- `LdrGetProcedureAddressForCaller`

GADGET aracı algılanırsa, işlem sonlandırılır.

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

API engellemesi kullanan uygulamalar, özellikle de güvenlik yazılımı bu risk azaltmada uyumluluk sorunlarına neden olabilir.

Bu azaltma, Rastgele Code Guard'ın azaltmayla uyumlu değildir.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

**Yalnızca Denetim** - Bir uygulama üzerindeki olası uyumluluk etkisini ölçmek için denetim modunda bu etkiyi etkinleştirebilirsiniz. Denetim olayları daha sonra olay görüntüleyicisinde veya Uç Nokta için Microsoft Defender'da Gelişmiş Av [kullanılarak görüntülenebilir](/microsoft-365/security/defender/advanced-hunting-overview).

## <a name="validate-exception-chains-sehop"></a>Özel durum zincirlerini (SEHOP) doğrulama

### <a name="description"></a>Açıklama

Özel durum zincirleri (SEHOP) Yapılandırılmış Özel Durum *İşleyicisi'nin (SEH)* açıktan yararlanma tekniğine karşı bir azaltma olduğunu doğrulama. [Yapılandırılmış özel durum işleme](/windows/win32/debug/structured-exception-handling) , uygulamanın belirli bir özel durumu işlemeyi istey işleme sürecidir. Özel durum işleyicileri zincirlemede bir araya gelir; böylelikle, bir özel durum işleyicisi belirli bir özel durumu işlemeyi seçerse, biri bunu işlemeyi karar verinceye kadar zincirde bir sonraki özel durum işleyicisi'ne geçirir. İşleyici listesi dinamik olduğundan, yığında depolanır. Bir saldırgan, bir yığın taşma güvenlik açığını kullanarak, sonra da saldırgan tercih koduna bir işaretçiyle özel durum işleyicisinin üzerine yazabilir.

Bu azaltma, her SEH girdisinin hem özel durum işleyicisine hem de özel durum zincirinde bir sonraki işleyiciye bir imleç içerdiği SEH tasarımına dayandır. Bu azaltma, bir özel durum çağırıldığında SEH zincirini doğrulayan özel durum sevkıcısı tarafından çağrılır. Şunları doğrular:

- Tüm özel durum zinciri kayıtları yığın sınırları içinde
- Tüm özel durum kayıtları hizalanır
- Hiçbir özel durum işleyicisi yığına işaret etmek zorunda değildir
- Geriye dönük işaretçi yok
- Özel durum zinciri bilinen bir son özel durum işleyicisinde sona erer

Bu doğrulamalar başarısız olursa, özel durum işleme durdurulz ve özel durum işlanmaz.

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

SEHOP ile ilgili uyumluluk sorunları oldukça seyrek karşılaşılan bir durumdur. Uygulamanın özel durum zincirinin bozulmaya bağımlılığı olması seyrek görülen bir durumdur. Bununla birlikte, bazı uygulamalar zamanlamada yapılan hafif değişikliklerden etkilemektedir ve bu da yarış koşulu olarak kendini uygulamada çok iş parçacıklı bir hatanın ortaya çıkar olduğu bir koşul olarak gösterir.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

> [!Note]
> **Özel durum zincirlerinin (SEHOP)** denetim modu olmadığını doğrulama.

## <a name="validate-handle-usage"></a>Tutamacı kullanımını doğrulama

### <a name="description"></a>Açıklama

*Tutamaç kullanımının* , korunan bir nesneye erişmek için mevcut tutamacı kullanan bir saldırgana karşı korunmasına yardımcı olan bir etki alanı olduğunu doğrula. [Tutamaç](/windows/win32/sysinfo/handles-and-objects), korumalı bir nesneye başvuru olur. Uygulama kodu geçersiz tutamaçlara başvurulıyorsa, bu, karşıt bir tutamacı daha önce kaydettiği bir tutamacı kullanmaya çalışta olduğunu gösteriyor olabilir (ancak hangi uygulama başvurusunun saymakla ilgili olduğunu fark etmeyebilirsiniz). Uygulama geçersiz bir nesne kullanmaya çalışırsa, yalnızca null değerini dönmek yerine bir özel durum STATUS_INVALID_HANDLE.

Bu azaltma, Windows Store uygulamalarına otomatik olarak uygulanır.

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

Doğru izleme işlemleri tutamacı başvurularını izlemeyen ve bu işlemleri özel durum işleyicilerine göre kaydırmamış olan uygulamalar, bu etkiyi azaltmadan etkilenme olasılığı vardır.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

> [!Note]
> **Tutamaç kullanımının** denetim modu olmadığını doğrulama.

## <a name="validate-heap-integrity"></a>Kimlik bütünlüğünü doğrulama

### <a name="description"></a>Açıklama

Kimlik *bütünlüğünün doğrulanması* risk azaltması, Windows'de güvenlik risklerinin koruma düzeyini artırarak, bir şüpheli bozulma algılandığında uygulamanın sonlandırılmalarına neden olur. Azaltmalar şunlardır:

- BULASILIK tutamacı serbest bırakılamasını engelleme
- Uygun tahsisler için uzatılmış blok başlıkları üzerinde başka bir doğrulama gerçekleştirme
- Devam edilen tahsislerin zaten kullanım için bayrakla işaretlenmedi
- Büyük ayırmalara, parça kesimlerine ve alt bölümleri minimum boyuttan yüksek bölümlere koruma sayfaları ekleme

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

Bu azaltma, 64 bit uygulamalar ve Vista veya sonraki sürümleri hedef alan 32 bit uygulamalar için Windows olarak uygulanır. Uyumluluk sorunları Windows, ancak xp veya önceki sürümlerden gelen eski uygulamalar en çok risk altındadır.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

> [!Note]
> **Kimlik bütünlüğünün denetim** modunda olmadığını doğrulama.

## <a name="validate-image-dependency-integrity"></a>Resim bağımlılığı bütünlüğünü doğrulama

### <a name="description"></a>Açıklama

Görüntü *bağımlılığını doğrulama etki azaltması*, ikili dosyalar tarafından statik olarak bağlanan dlllerin kodunu ikame eden saldırılara karşı Windows yardımcı olur. DLL'nin dikte tekniği, yükleyicinin arama mekanizmasını kullanarak kötü amaçlı kod eklemeye yöneliktir. Bu yöntem, yükseltilmiş bir bağlamda kötü amaçlı kod çalıştırmak için kullanılabilir. Yükleyici Windows imzalı bir ikili dosya yüklerken ve sonra ikilinin bağlı olduğu tüm dllleri yüklerse, aynı zamanda dijital olarak ikili dosya olarak da imzalandığından emin olmak için bu ikili dosyalar Windows doğrulanır. İmza denetimi başarısız olursa, dll yüklenmez ve bir özel durum oluşturur ve STATUS_INVALID_IMAGE_HASH.

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

Uyumluluk sorunları az görülen bir durumdur. Dosya ikili sürümlerinin yerel Windows sürümleriyle değiştirilmesine bağlı olan uygulamalar etki olur ve çok iş parçacıklı uygulamalarda hafif zamanlama hataları ortaya çıkarmak için küçük bir risk de vardır.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

**Yalnızca Denetim** - Bir uygulama üzerindeki olası uyumluluk etkisini ölçmek için denetim modunda bu etkiyi etkinleştirebilirsiniz. Denetim olayları daha sonra olay görüntüleyicisinde veya Uç Nokta için Microsoft Defender'da Gelişmiş Av [kullanılarak görüntülenebilir](/microsoft-365/security/defender/advanced-hunting-overview).

## <a name="validate-stack-integrity-stackpivot"></a>Yığın bütünlüğünü doğrulama (StackPivot)

### <a name="description"></a>Açıklama

Yığın *bütünlüğünü (StackPivot)* azaltma, Yığın Pivot saldırısına, bir saldırgan bellekte sahte bir yığın oluşturduğu BU SALDıRıya karşı korunmaya yardımcı olur ve sonra da uygulamayı, yürütme akışını kontrol eden sahte yığına dönme konusunda püf noktaları sağlar.

Bu azaltma, çok Windows API'leri kesiştirer ve yığın işaretçisinin değerini inceler. Yığın işaretçisinin adresi yığının en altıyla en üstü arasında yer alamayacaksa, bir olay kaydedilir ve denetim modunda değilken işlem sonlandırılır.

Bu risk azaltma tarafından kesişen API'ler:

- `LoadLibraryA`
- `LoadLibraryW`
- `LoadLibraryExA`
- `LoadLibraryExW`
- `LdrLoadDll`
- `VirtualAlloc`
- `VirtualAllocEx`
- `NtAllocateVirtualMemory`
- `VirtualProtect`
- `VirtualProtectEx`
- `NtProtectVirtualMemory`
- `HeapCreate`
- `RtlCreateHeap`
- `CreateProcessA`
- `CreateProcessW`
- `CreateProcessInternalA`
- `CreateProcessInternalW`
- `NtCreateUserProcess`
- `NtCreateProcess`
- `NtCreateProcessEx`
- `CreateRemoteThread`
- `CreateRemoteThreadEx`
- `NtCreateThreadEx`
- `WriteProcessMemory`
- `NtWriteVirtualMemory`
- `WinExec`
- `CreateFileMappingA`
- `CreateFileMappingW`
- `CreateFileMappingNumaW`
- `NtCreateSection`
- `MapViewOfFile`
- `MapViewOfFileEx`
- `MapViewOfFileFromApp`
- `LdrGetProcedureAddressForCaller`

### <a name="compatibility-considerations"></a>Uyumlulukta dikkate alınacak noktalar

Sahte yığınlar kullanan uygulamalar bundan etkilanır ve çok iş parçacıklı uygulamalarda küçük zamanlama hataları ortaya çıkarmak riski küçüktür.
API engellemesi kullanan uygulamalar, özellikle de güvenlik yazılımı bu risk azaltmada uyumluluk sorunlarına neden olabilir.

Bu azaltma, Rastgele Code Guard'ın azaltmayla uyumlu değildir.

### <a name="configuration-options"></a>Yapılandırma seçenekleri

**Yalnızca Denetim** - Bir uygulama üzerindeki olası uyumluluk etkisini ölçmek için denetim modunda bu etkiyi etkinleştirebilirsiniz. Denetim olayları daha sonra olay görüntüleyicisinde veya Uç Nokta için Microsoft Defender'da Gelişmiş Av [kullanılarak görüntülenebilir](/microsoft-365/security/defender/advanced-hunting-overview).
